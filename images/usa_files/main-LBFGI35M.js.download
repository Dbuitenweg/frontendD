import"./chunk-JJMMLRLM.js";import{a as Ot,b as _n}from"./chunk-EHJKJ545.js";import"./chunk-D26WMHTN.js";import{a as Yn,b as Ar}from"./chunk-6PVRLM6C.js";import"./chunk-F7FTMTX2.js";import{a as b,b as S,c as an,d as ln,e as Pe,f as wt,g as cn}from"./chunk-G2RBUVDQ.js";import{b as D}from"./chunk-Q5P4N7PR.js";import"./chunk-4YKVHK6L.js";import{a as it,b as Se,c as bn}from"./chunk-XIBV5Y6P.js";import"./chunk-4UVC3XGT.js";import"./chunk-6IQNGZUE.js";import{a as Lt,b as En,c as Bn,e as Fn,f as xn,g as Un,h as Vn}from"./chunk-ZCVD2N5V.js";import"./chunk-AM2W7K34.js";import"./chunk-MWPN4MNC.js";import{a as kt,b as ze}from"./chunk-GB2VAJNJ.js";import"./chunk-D6PSXT3O.js";import{a as In}from"./chunk-VMB64IXE.js";import{a as Cr,b as Hn}from"./chunk-NFHDPJQ3.js";import{a as jn,b as Dt,c as Gn,f as Qn,g as Kn,h as zn,i as $n}from"./chunk-UA7EPJDP.js";import{b as Wn}from"./chunk-3MDYAPCL.js";import{a as qn}from"./chunk-CRFJRTLI.js";import"./chunk-BZDR6JDL.js";import"./chunk-LR57WBXR.js";import"./chunk-A73SKMKV.js";import"./chunk-JBIJNOWI.js";import"./chunk-HHOKKMZZ.js";import"./chunk-CL2VMV3B.js";import{c as yn}from"./chunk-QBSAKECN.js";import"./chunk-SLJHTPLE.js";import{a as Qe,d as vn}from"./chunk-R3CYEATE.js";import"./chunk-2PXWL7P4.js";import"./chunk-7FADYWIQ.js";import"./chunk-4JOSZEUR.js";import"./chunk-T3M6AY7H.js";import"./chunk-2AE6UQYF.js";import"./chunk-F6FR2Y6H.js";import{a as gn}from"./chunk-F6YQ54PI.js";import"./chunk-SAWRZYKS.js";import"./chunk-DA3VKES4.js";import"./chunk-PVZO6U6D.js";import{b as An}from"./chunk-S2CDMUAO.js";import{a as kn}from"./chunk-T7CRXA5S.js";import{f as Bt,i as Dn}from"./chunk-Q33NLUYQ.js";import{a as Mn}from"./chunk-SGFAIYDA.js";import"./chunk-ZUL5TNVU.js";import"./chunk-VOJPD6ZG.js";import{a as Cn}from"./chunk-4FBQA6UL.js";import"./chunk-GPH47FMH.js";import{a as Nt}from"./chunk-Z26Q4N6D.js";import"./chunk-BXDSNRTB.js";import"./chunk-EP2LR3XQ.js";import"./chunk-JDREUZ2D.js";import"./chunk-ZTY36IEQ.js";import"./chunk-Z5R6VCD5.js";import"./chunk-32P2ACJU.js";import{a as fe}from"./chunk-GVULMVX2.js";import"./chunk-GWNIFXXT.js";import"./chunk-5YNDDQ5E.js";import"./chunk-YRGJU6NL.js";import"./chunk-SIXU42Z7.js";import"./chunk-3GZVRZNS.js";import"./chunk-E7GE4BQH.js";import{a as Tt,q as Ke,r as Ee}from"./chunk-PVZIKOLX.js";import"./chunk-LY2C36RY.js";import{a as Re}from"./chunk-V4LHIFG2.js";import{A as Ie,a as Sr,b as fs,d as Er,f as ps,g as Tn,h as wn,i as Rn,j as Pn,k as nt,l as X,m as Ln,n as Le,o as j,p as It,q as Ne,r as gs,s as Oe,t as Nn,u as vs,v as _r,w as On,x as We,y as Mt}from"./chunk-JMFCOTWB.js";import{a as fn,f as Pt}from"./chunk-SJ4BY7W5.js";import"./chunk-5DBODDQO.js";import"./chunk-P4W2WFGB.js";import{D as T,E as pe,I as dn,J as yr,R as Ge,S as br,T as Rt}from"./chunk-D46CYR24.js";import{a as pn}from"./chunk-J4HS3QMF.js";import{e as $i,f as Ct,h as Yi,i as de,j as Zi,k as ne,n as Xi,o as Ji,p as en,q as tn,r as rn}from"./chunk-2AOWLUVK.js";import{q as un}from"./chunk-4HIDQ2E2.js";import{i as W,k as sn}from"./chunk-UD64NUYD.js";import{a as Ki,b as Wi,e as zi,g as qi}from"./chunk-6XVC5GKP.js";import{a as rt,d as vr,f as Gi,g as Qi}from"./chunk-6J7YOASN.js";import{b as Sn}from"./chunk-CZ5JVCO5.js";import{d as hn,f as mn}from"./chunk-RIPN4MPX.js";import"./chunk-ULRONDF2.js";import{M as ds,N as nn,Q as on,R as At,S as q}from"./chunk-HJU3TTO5.js";import{Aa as L,C as pt,Ca as M,Cd as Et,Da as fr,Fa as Ti,Fd as Hi,Gd as _t,Ha as v,Ia as d,Jb as G,Jd as ji,Mb as Ni,N as Ei,Na as wi,Oa as pr,Ob as Oi,P as he,Qb as Ii,Ra as je,Rb as bt,Sa as vt,T as _i,Tc as Fi,Uc as xi,V as Ci,Z as Ai,cb as yt,d as et,db as Ri,fc as Mi,g as ft,ga as tt,hd as St,jb as Pi,je as H,ke as we,lb as Z,ld as Ui,m as gi,mb as gr,mc as ki,n as Ue,nc as Bi,o as Ve,oc as Di,p as vi,pb as Li,q as yi,r as bi,sa as dr,t as He,ua as gt,v as Si,va as me,xa as Te,yd as Vi}from"./chunk-DJ36WPQ3.js";import{a as C,b as k,f as fi,h as ms,j as pi,k as mr,o as z}from"./chunk-I6UQJZBK.js";var zo=ms(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.createPersistedQueryManifestVerificationLink=ve.generatePersistedQueryIdsFromManifest=ve.sortTopLevelDefinitions=ve.generatePersistedQueryIdsAtRuntime=void 0;var Wo=(Tn(),mr(ps)),cl=(Oe(),mr(gs)),ul=(_r(),mr(vs));function hl(i){return{generateHash:e=>Promise.resolve(i.sha256((0,Wo.print)(oi(e)))),disable:()=>!1}}ve.generatePersistedQueryIdsAtRuntime=hl;function oi(i){let e=[...i.definitions];return e.sort((r,t)=>{if(r.kind>t.kind)return-1;if(r.kind<t.kind)return 1;let n=r.kind==="OperationDefinition"||r.kind==="FragmentDefinition"?r.name?.value??"":"",o=t.kind==="OperationDefinition"||t.kind==="FragmentDefinition"?t.name?.value??"":"";return n<o?-1:n>o?1:0}),k(C({},i),{definitions:e})}ve.sortTopLevelDefinitions=oi;function ml(i){let e=Promise.resolve(i.loadManifest()).then(t=>{let n=new Map;return t.operations.forEach(({name:o,id:s})=>{n.set(o,s)}),n});e.catch(()=>{});function r(t){return z(this,null,function*(){let n=yield e,o=null;for(let a of t.definitions)if(a.kind==="OperationDefinition"){if(!a.name)throw new Error("Anonymous operations are not supported by generatePersistedQueryIdsFromManifest");if(o!==null)throw new Error("Multi-operation GraphQL documents are not supported by generatePersistedQueryIdsFromManifest");o=a.name.value}if(o===null)throw new Error("Documents without operations are not supported by generatePersistedQueryIdsFromManifest");let s=n.get(o);if(s===void 0)throw new Error(`Operation ${o} not found in manifest`);return s})}return{generateHash:r,disable:()=>!1}}ve.generatePersistedQueryIdsFromManifest=ml;function dl(i){let e=Promise.resolve(i.loadManifest()).then(t=>{let n=new Map;return t.operations.forEach(o=>{n.set(o.name,o)}),n});e.catch(()=>{});function r(t,n){let o=(0,Wo.print)(oi(t.query)),s=null;for(let l of t.query.definitions)if(l.kind==="OperationDefinition"){if(!l.name){i.onVerificationFailed?.({reason:"AnonymousOperation",operation:t});return}if(s!==null){i.onVerificationFailed?.({reason:"MultipleOperations",operation:t});return}s=l.name.value}if(s===null){i.onVerificationFailed?.({reason:"NoOperations",operation:t});return}let a=n.get(s);if(a===void 0){i.onVerificationFailed?.({reason:"UnknownOperation",operation:t});return}if(o!==a.body){i.onVerificationFailed?.({reason:"OperationMismatch",operation:t,manifestOperation:a});return}}return new cl.ApolloLink((t,n)=>new ul.Observable(o=>{let s,a=!1;return e.then(l=>{r(t,l),!a&&(s=n(t).subscribe({next:o.next.bind(o),error:o.error.bind(o),complete:o.complete.bind(o)}))}).catch(o.error.bind(o)),()=>{a=!0,s&&s.unsubscribe()}}))}ve.createPersistedQueryManifestVerificationLink=dl});var xt=(()=>{let e=class e{constructor(t,n){this.router=t,this.ubcService=n,this.activeRoute$=new ft,this.handleRouterEvents()}handleRouterEvents(){this.router.events.pipe(he(t=>t instanceof Ct)).pipe(pt(t=>t.urlAfterRedirects)).pipe(he(Boolean)).subscribe(t=>{this.ubcService.setUBCbyRoute(t),this.activeRoute$.next(t)})}};e.\u0275fac=function(n){return new(n||e)(v(ne),v(fe))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let i=e;return i})();var Zn=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pr({type:e}),e.\u0275inj=fr({providers:[xt]});let i=e;return i})();var Ut=(()=>{let e=class e{constructor(t){this.injector=t}load(t){return Si(t().then(n=>this.injector.get(n)))}get(t){return z(this,null,function*(){return this.injector.get(yield t())})}};e.\u0275fac=function(n){return new(n||e)(v(yt))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Jn=[{name:"Iraq",code:"iq",languages:[{code:"en",name:"en"}]},{name:"Latvia",code:"lv",languages:[{code:"en",name:"en"}]},{name:"Lithuania",code:"lt",languages:[{code:"en",name:"en"}]},{name:"Estonia",code:"ee",languages:[{code:"en",name:"en"}]}];function eo(i,e){let r=new Qe;return r.countryRegion=i.translate("common.header.country_language_selector.country"),r.language=i.translate("common.header.country_language_selector.language"),r.selected=i.translate("common.header.country_language_selector.a11y.selected"),r.closeBtnAriaLabel=i.translate("common.btn_close"),r.login=i.translate("common.generic.header.label_login"),r.enrol=i.translate("common.generic.header.label_enrol"),r.loginAriaLabel=i.translate("common.generic.header.a11y.login"),r.enrolAriaLabel=i.translate("common.generic.header.a11y.enrol"),r.countryLanguageAriaLabel=i.translate("common.generic.header.a11y.country_language_selector"),r.hamburgerMenuButtonAriaLabel=i.translate("common.generic.header.a11y.hamburger_menu"),r.redirectionNoticeTitle=i.translate("common.redirection.title",{url:e.getHost(),country:e.getCountryName()}),r.redirectionNoticeSubtitle=i.translate("common.redirection.subtitle"),r.redirectionNoticeCloseAriaLabel=i.translate("common.btn_close"),r.contentSearchAriaLabel=i.translate("common.generic.header.content_search.a11y.search"),r}var bs=Ie`
    fragment ShellErmContentDataFragment on ErmContentData {
  title
  titleLink {
    url
    eventValue
    openInNewWindow
    ariaLabel
  }
  description
  bannerType
  links {
    text
    url
    eventValue
    openInNewWindow
    ariaLabel
  }
}
    `,Ss=Ie`
    fragment ShellLinkContentFragment on LinkContent {
  uri
  url
  text
  openInNewWindow
  ariaLabel
  eventValue
  icon
}
    `,Es=Ie`
    fragment ShellLinkDataFragment on LinkData {
  url
  uri
  text
  openInNewWindow
  ariaLabel
  eventValue
  icon
  emphasis
}
    `,_s=Ie`
    query ShellCrsBannerContentQuery($bannerType: String) {
  getCrsBannerContent(bannerType: $bannerType) {
    metadata {
      type
      isRtf
      lastPublished
      publisherId
    }
    data {
      ... on ErmBannerContent {
        content {
          ...ShellErmContentDataFragment
        }
      }
      ... on DisruptionBannerContent {
        content {
          banners {
            ...ShellErmContentDataFragment
          }
        }
      }
      ... on ReassuranceBannerContent {
        content {
          banners {
            ...ShellErmContentDataFragment
          }
        }
      }
      ... on OperationalBannerContent {
        content {
          banners {
            ...ShellErmContentDataFragment
          }
        }
      }
    }
  }
}
    ${bs}`,to=(()=>{let e=class e extends Mt{constructor(t){super(t),this.document=_s}};e.\u0275fac=function(n){return new(n||e)(v(We))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Cs=Ie`
    query ShellCrsFooterContentQuery {
  getCrsFunctionalFooterContent {
    metadata {
      name
      type
      isRtf
    }
    data {
      name
      content {
        functionalFooterLinks {
          text
          links {
            ...ShellLinkContentFragment
          }
        }
        appList {
          text
          appLinks {
            link {
              ...ShellLinkContentFragment
            }
            image {
              alt
              url
              caption
            }
          }
        }
        socialMediaIcons {
          text
          links {
            ...ShellLinkContentFragment
          }
        }
      }
    }
  }
  getCrsLegalFooterContent {
    metadata {
      name
      type
      isRtf
    }
    data {
      content {
        links {
          uri
          url
          text
          newWindow
          ariaLabel
          eventValue
        }
      }
    }
  }
  getCrsSEOFooterContent {
    metadata {
      name
      type
      isRtf
    }
    data {
      content {
        seoFooterLinks {
          text
          links {
            uri
            url
            text
            newWindow
            ariaLabel
            eventValue
          }
        }
      }
    }
  }
}
    ${Ss}`,ro=(()=>{let e=class e extends Mt{constructor(t){super(t),this.document=Cs}};e.\u0275fac=function(n){return new(n||e)(v(We))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),As=Ie`
    query ShellCrsHeaderContentQuery {
  getCrsHeaderContent {
    metadata {
      name
      type
      isRtf
    }
    data {
      content {
        topTask {
          links {
            ...ShellLinkDataFragment
          }
        }
        burgerMenu {
          links {
            ...ShellLinkDataFragment
            links {
              ...ShellLinkDataFragment
            }
          }
        }
        airlineLogoLink {
          ...ShellLinkDataFragment
        }
        allianceLogoLink {
          ...ShellLinkDataFragment
        }
      }
    }
  }
}
    ${Es}`,io=(()=>{let e=class e extends Mt{constructor(t){super(t),this.document=As}};e.\u0275fac=function(n){return new(n||e)(v(We))},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Vt=(()=>{let e=class e{constructor(t){this.banner=t}getCrsBannerContent(t){return this.banner.fetch({bannerType:t})}};e.\u0275fac=function(n){return new(n||e)(v(to))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let i=e;return i})();var qe=(()=>{let e=class e{constructor(t,n){this.header=t,this.footer=n}getCrsHeaderContent(){return this.header.fetch({},{context:{httpCacheableOperation:!0}})}getCrsFooterContent(){return this.footer.fetch({},{context:{httpCacheableOperation:!0}})}};e.\u0275fac=function(n){return new(n||e)(v(io),v(ro))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let i=e;return i})();var O=function(i){return i.HEADER_Z_EVENT_PLACE="Header",i.LOGO_Z_EVENT_TYPE="Logo",i.LOGO_Z_EVENT_VALUE="Home",i.LOGIN_Z_EVENT_TYPE="Login",i.LOGIN_Z_EVENT_VALUE="Login",i.LOGIN_OPEN_Z_EVENT_VALUE="Open_logged_menu",i.ENROL_Z_EVENT_TYPE="enrol",i.ENROL_Z_EVENT_VALUE="enrol",i.PROFILE_Z_EVENT_VALUE="Profile",i.PROFILE_CORPORATE_Z_EVENT_VALUE="Corporate_travel",i.LOGOUT_Z_EVENT_VALUE="Log_out",i.COUNTRY_LANGUAGE_Z_EVENT_TYPE="Country_language",i.COUNTRY_LANGUAGE_Z_EVENT_VALUE="Change_country_language",i.ACCESSIBILTY_BUTTON_Z_EVENT_TYPE="Accessibilty_button",i.MESSAGE_CENTER_Z_EVENT_TYPE="Message_center",i.MESSAGE_CENTER_BUTTON_Z_EVENT_TYPE="Message_center_button",i.MESSAGE_CENTER_BUTTON_Z_EVENT_VALUE="Click_message_center",i.BURGER_MENU_Z_EVENT_TYPE="Burger_menu",i.BURGER_MENU_OPEN_Z_EVENT_VALUE="Open",i.TOP_TASK_Z_EVENT_TYPE="Top_task",i.FOOTER_Z_EVENT_PLACE="Footer",i.SOCIAL_MEDIA_Z_EVENT_TYPE="Social_media",i.FUNCTIONAL_Z_EVENT_TYPE="Functional_col",i.SEO_Z_EVENT_TYPE="SEO_col",i.APP_Z_EVENT_TYPE="Functional_app",i.LEGAL_Z_EVENT_TYPE="Legal",i.CONTENT_SEARCH_Z_EVENT_TYPE="header",i.CONTENT_SEARCH_Z_EVENT_VALUE="search_bar",i.CONTENT_SEARCH_Z_EVENT_PLACE="search_content",i}(O||{});var jt=(()=>{let e=class e{constructor(t,n,o,s,a,l,c,u,h,p){this.bwcPageTemplateCommunicatorService=t,this.miTaggingService=n,this.sharedGlobalService=o,this.linkFormatterService=s,this.crsHeaderFooterService=a,this.translocoService=l,this.ubcService=c,this.router=u,this.activatedRoute=h,this.platformId=p,this.brand=this.sharedGlobalService.getBrand()}configureFooter(){let t=this.router.url??this.activatedRoute.snapshot.url?.join("/");return this.templateElementsConfig=this.ubcService.getUBCElements(this.brand,t),this.crsHeaderFooterService.getCrsFooterContent().pipe(Te(n=>{if(n?.data){let{getCrsFunctionalFooterContent:o,getCrsSEOFooterContent:s,getCrsLegalFooterContent:a}=n.data,l=o?.data?.[0]?.content;this.configureSocialMediaLinks(l?.socialMediaIcons),this.configureFunctionalLinks(l?.functionalFooterLinks,l?.appList);let c=s?.data?.[0]?.content;this.configureSEOLinks(c?.seoFooterLinks);let u=a?.data?.[0]?.content;this.configureLegalLinks(u?.links)}}))}configureSocialMediaLinks(t){if(!this.templateElementsConfig.showSocialIcons||!t){this.bwcPageTemplateCommunicatorService.socialIconLinks.next(null);return}let o=t?.[0]?.links?.map(s=>({iconName:s?.icon,url:this.linkFormatterService.format(s?.url),ariaLabel:s?.ariaLabel??s?.text,target:s?"_blank":"_self",clickHandler:()=>{this.tagFooterComponents(O.SOCIAL_MEDIA_Z_EVENT_TYPE,s?.eventValue)}}));this.bwcPageTemplateCommunicatorService.socialIconLinks.next(o.length>0?o:null)}configureFunctionalLinks(t,n){if(!this.templateElementsConfig.showFunctionalFooter||!t){this.bwcPageTemplateCommunicatorService.functionalFooterLinks.next(null);return}let o=this.buildColumnLinks(t,O.FUNCTIONAL_Z_EVENT_TYPE);this.bwcPageTemplateCommunicatorService.functionalFooterLinks.next(o||null),this.configureAppLinks(n)}configureSEOLinks(t){if(!this.templateElementsConfig.showSeoFooter||!t){this.bwcPageTemplateCommunicatorService.seoFooterLinks.next(null);return}let n=this.buildSEOLinks(t,O.SEO_Z_EVENT_TYPE);this.bwcPageTemplateCommunicatorService.seoFooterLinks.next(n||null)}configureLegalLinks(t){if(!this.templateElementsConfig.showLegalFooter||!t){this.bwcPageTemplateCommunicatorService.legalFooterItems.next(null);return}let n=t.map(s=>{let{uri:a,url:l,text:c,newWindow:u,eventValue:h,ariaLabel:p}=s,m=a?{routerLink:a}:{href:this.linkFormatterService.format(l)};return k(C({label:c},m),{target:u?"_blank":"_self",ariaLabel:p,clickHandler:()=>{this.tagFooterComponents(O.LEGAL_Z_EVENT_TYPE,h)}})}),o=this.translocoService.translate("common.legal_footer.tracking_preferences");n.push({label:o,clickHandler:()=>{H(this.platformId)&&window.BWCookieBanner?.openManually()},trackingPreferences:!0}),this.bwcPageTemplateCommunicatorService.legalFooterItems.next(n)}buildSEOLinks(t,n){return t.map(o=>({title:o?.text,links:o?.links?.map(s=>{let{uri:a,url:l,text:c,newWindow:u,eventValue:h,ariaLabel:p}=s,m=a?{routerLink:a}:{href:this.linkFormatterService.format(l)};return k(C({},m),{icon:null,label:c,ariaLabel:p,target:u?"_blank":"_self",clickHandler:()=>{this.tagFooterComponents(n,h)}})})}))}buildColumnLinks(t,n){return t.map(o=>({title:o?.text,links:o?.links?.map(s=>{let{uri:a,url:l,icon:c,text:u,openInNewWindow:h,eventValue:p,ariaLabel:m}=s,f=a?{routerLink:a}:{href:this.linkFormatterService.format(l)};return k(C({},f),{icon:c??null,label:u,ariaLabel:m,target:h?"_blank":"_self",clickHandler:()=>{this.tagFooterComponents(n,p)}})})}))}configureAppLinks(t){if(!t){this.bwcPageTemplateCommunicatorService.appLinks.next(null);return}let n=t?.[0],o=n?.appLinks?.map(a=>({image:a?.image?.url,imageAccessibility:a?.image?.alt,ariaLabel:a?.link?.ariaLabel,target:a?.link?.openInNewWindow?"_blank":"_self",url:this.linkFormatterService.format(a?.link?.url),clickHandler:()=>{this.tagFooterComponents(O.APP_Z_EVENT_TYPE,a?.link?.eventValue)}})),s={title:n?.text,apps:o};this.bwcPageTemplateCommunicatorService.appLinks.next(s)}tagFooterComponents(t,n){let o=this.ubcService.activeUBC.name,s=this.ubcService.activeUBC.tiTagValue,l=this.miTaggingService.getTitleFromUrl(this.router.url,o)??o;this.miTaggingService.tagLinkNavigation(s||l,o,t,n,O.FOOTER_Z_EVENT_PLACE)}};e.\u0275fac=function(n){return new(n||e)(v(Se),v(Ee),v(q),v(Nt),v(qe),v(W),v(fe),v(ne),v(de),v(Z))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let i=e;return i})();var lo=pi(ds());var ao={FB_A:{image:"flyingblue-explorer",alt:"Explorer"},FB_B:{image:"flyingblue-silver",alt:"Silver"},FB_R:{image:"flyingblue-gold",alt:"Gold"},FB_M:{image:"flyingblue-platinum",alt:"Platinum"},FB_C2:{image:"flyingblue-club2000",alt:"Club 2000"},FB_SK:{image:"flyingblue-skipper",alt:"Skipper"},FB_LF:{image:"flyingblue-platinumforlife",alt:"Platinum for Life"},FB_ULTI:{image:"flyingblue-platinumultimate",alt:"Platinum Ultimate"},FB_ULF:{image:"flyingblue-ultimate-platinumforlife",alt:"Ultimate Platinum for Life"},FB_UC2:{image:"flyingblue-ultimateclub2000",alt:"Ultimate Club 2000"},FB_USK:{image:"flyingblue-ultimateclub2000-variant",alt:"Ultimate Club 2000"},HIPPOCAMPE:{image:"flyingblue-hippocampe",alt:"Hippocampe"}},Gt=(()=>{let e=class e{constructor(t,n,o,s,a,l,c,u,h,p,m,f){this.bwcPageTemplateCommunicatorService=t,this.customerAuthService=n,this.bwcMediaQueryService=o,this.translocoService=s,this.router=a,this.miTaggingService=l,this.sharedGlobalService=c,this.logoutService=u,this.bwcWindowRef=h,this.ubcService=p,this.activatedRoute=m,this.platformId=f,this.isExtraSmallScreen=H(this.platformId)?this.bwcMediaQueryService.is("xs").getValue():!1,this.brand=this.sharedGlobalService.getBrand()}configureProfile(){let t=this.router.url??this.activatedRoute.snapshot.url?.join("/");this.templateElementsConfig=this.ubcService.getUBCElements(this.brand,t),H(this.platformId)?this.customerAuthService.isLoggedIn().pipe(dr(n=>n===void 0)).subscribe(n=>{if(!n)return this.setupLoginComponent(!1);this.customerAuthService.user.pipe(dr(o=>o===void 0)).subscribe(o=>this.setupLoginComponent(!0,o))}):this.setupLoginComponent(!1)}setupLoginComponent(t,n){let o=this.ubcService.activeUBC.name,s=this.ubcService.activeUBC.tiTagValue;t&&(this.tagFBtier(n),this.tagHashedEmail(n?.customer)),this.templateElementsConfig.hideLogoHeaderOnMobile&&this.isExtraSmallScreen?setTimeout(()=>{this.bwcPageTemplateCommunicatorService.logoHeader.next(null)},0):this.bwcPageTemplateCommunicatorService.logoHeader.next(C(k(C({},this.bwcPageTemplateCommunicatorService.logoHeader.getValue()),{isUserLoggedIn:t,hideEnrol:this.templateElementsConfig.hideEnrol,hideLogin:this.templateElementsConfig.hideLogin,loginBtnCallback:()=>{this.tagLoginComponents(O.LOGIN_Z_EVENT_VALUE),this.goToLogin()},enrolBtnCallback:()=>(this.miTaggingService.tagLinkNavigation(s||o,o,O.ENROL_Z_EVENT_TYPE,O.ENROL_Z_EVENT_VALUE,O.HEADER_Z_EVENT_PLACE),this.customerAuthService.doEnrol(this.sharedGlobalService.window?.location?.href))}),t&&this.configurationForLoggedInUser(n)))}goToLogin(){let n=this.sharedGlobalService.window.location?.href;this.customerAuthService.doLogin(n).subscribe()}configurationForLoggedInUser(t){let n=t?.account?.familyName,o=t?.account?.givenNames,s=t?.customer?.accountEmailAddress,a=t?.account?.flyingBlueNumber;return C(C({},t&&C({loginInitials:o[0]+n[0],userEmail:s,userName:`${o} ${n}`},a&&this.configurationForFlyingBlueUser(t))),this.profileMenuConfiguration(t))}configurationForFlyingBlueUser(t){let n=t.flyingBlueDashboard?.fbLevelCode,o=t.flyingBlueDashboard?.hasFlyingBlueSubscription,s=t?.flyingBlueDashboard?.hippocampe?.code,a=(s?ao[s]:ao[n])??{image:void 0,alt:void 0};return{userProfileTypeImage:a.image,userProfileTypeImageAlt:a.alt,hasFlyingBlueSubscription:o}}profileMenuConfiguration(t){let n=a=>{a&&this.tagLoginComponents(O.LOGIN_OPEN_Z_EVENT_VALUE)},o=[];return o.push({label:this.translocoService.translate("common.logoheader.menu.title.my-profile"),description:this.translocoService.translate("common.logoheader.menu.subtitle.personal-account"),clickHandler:()=>z(this,null,function*(){this.tagLoginComponents(O.PROFILE_Z_EVENT_VALUE),yield this.router.navigate(["profile"])})}),t?.customer&&this.ubcService.getUBCElements().showCorporateLinks&&Array.isArray(t.customer.corporateDataList)&&t.customer.corporateDataList.length>0&&this.buildCorporateLink(t).forEach(l=>{o.push(l)}),o.push({label:this.translocoService.translate("common.logoheader.menu.logout"),clickHandler:()=>{let a=this.ubcService.activeUBC.logoutRedirectPath,l={redirectUrl:a||this.bwcWindowRef.nativeWindow.location.href};this.tagLoginComponents(O.LOGOUT_Z_EVENT_VALUE),this.logoutService.logout(l).subscribe()},dataTestValue:"bwc-logo-header__logout-button"}),{multiProfileListItems:o,loggedInMenuBtnCallback:n}}buildCorporateLink(t){return t.customer.corporateDataList.reduce((o,s)=>{let a={};return a.label=s.companyName,a.description=s.highestRole.name,s.highestRole.code!=="CT"?a.clickHandler=()=>{this.router.navigate([`/profile/corporate-environment/${s.corporateEnvironmentId}/users`])}:a.clickHandler=()=>null,o.push(a),o},[])}tagLoginComponents(t){let n=this.ubcService.activeUBC.name,o=this.ubcService.activeUBC.tiTagValue;this.miTaggingService.tagLinkNavigation(o||n,n,O.LOGIN_Z_EVENT_TYPE,t,O.HEADER_Z_EVENT_PLACE)}tagFBtier(t){let n=t?.flyingBlueDashboard;(n?.fbLevel||n?.fbLevelCode)&&this.miTaggingService.measure("pushed",{ti:"BW.send_tier_level",z_application:"profile",z_ffp_tier_level:n?.fbLevel,z_ffp_tier_level_code:n?.fbLevelCode,z_eventtype:"notification"},{})}tagHashedEmail(t){let n=t?.communicationMedium?.emailAccount?.hashedAddress;n&&this.miTaggingService.measure("pushed",{ti:"BW.hashed_email",z_application:"profile",z_customer_hashed_email:n,z_eventtype:"notification"},{})}};e.\u0275fac=function(n){return new(n||e)(v(Se),v(kt),v(gn),v(W),v(ne),v(Ee),v(q),v(Mn),v(Pt),v(fe),v(de),v(Z))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let i=e;return i})();var st=function(i){return i.erm="erm",i.disruption="disruption",i.reassurance="reassurance",i.operational="operational",i}(st||{}),Qt=(()=>{let e=class e{constructor(t,n,o,s,a,l,c,u,h,p,m,f){this.bwcPageTemplateCommunicatorService=t,this.profileTemplateService=n,this.sharedGlobalService=o,this.miTaggingService=s,this.linkFormatterService=a,this.crsBannerService=l,this.crsHeaderFooterService=c,this.ubcService=u,this.router=h,this.activatedRoute=p,this.lazyServiceLoader=m,this.platformId=f,this.showContentSearch=!1,this.bwGlobal=this.sharedGlobalService.getGlobal(),this.brand=this.sharedGlobalService.getBrand()}configureHeader(){let t=this.router.url??this.activatedRoute.snapshot.url?.join("/");this.templateElementsConfig=this.ubcService.getUBCElements(this.brand,t),this.profileTemplateService.configureProfile(),this.crsHeaderFooterService.getCrsHeaderContent().pipe(Te(n=>z(this,null,function*(){let o=n?.data?.getCrsHeaderContent?.data?.[0]?.content;o?(yield this.loadContentSearch(),this.configureLogoHeader(o.airlineLogoLink,o.allianceLogoLink),this.configureTopTasks(o.topTask),this.configureSidebar(o.burgerMenu)):this.configureLogoHeader()}))).subscribe()}configureBanner(t){return this.crsBannerService.getCrsBannerContent(t).pipe(Te(n=>{let o=n?.data?.getCrsBannerContent?.data?.[0]?.content;this.isDisruptionBannerData(o)?o.banners?.forEach(s=>{this.addBanner(s,t)}):this.addBanner(o,t)}),_i(n=>gi))}configureLogoHeader(t,n){let o=this.bwGlobal.domainInfo.locale.urlPath,s=this.bwGlobal.domainInfo.country,a=this.bwcPageTemplateCommunicatorService.logoHeader.getValue();this.bwcPageTemplateCommunicatorService.logoHeader.next(k(C(k(C({},a),{locale:o,countryCode:s?.toLowerCase(),logoLink:{url:t?.url?this.linkFormatterService.format(t?.url):null,ariaLabel:t?.ariaLabel,isH1:this.templateElementsConfig.isLogoLinkH1,uri:t?.uri},menuBtnCallback:()=>{this.bwcPageTemplateCommunicatorService.sideNavState.next({opened:!0}),this.tagHeaderComponents(O.BURGER_MENU_Z_EVENT_TYPE,O.BURGER_MENU_OPEN_Z_EVENT_VALUE)},logoLinkClickEvent:l=>z(this,null,function*(){this.tagHeaderComponents(O.LOGO_Z_EVENT_TYPE,O.LOGO_Z_EVENT_VALUE)}),countryLanguageCallback:()=>{this.tagHeaderComponents(O.COUNTRY_LANGUAGE_Z_EVENT_TYPE,O.COUNTRY_LANGUAGE_Z_EVENT_VALUE)}}),this.showContentSearch?{contentSearch:l=>z(this,null,function*(){let c=yield this.lazyServiceLoader.get(()=>import("./chunk-64KUGK6U.js").then(u=>u.BwsContentSearchService).catch(()=>null));if(c){let u=this.ubcService.activeUBC.name;this.miTaggingService.tagLinkNavigation(`${u}.search_content`,u,O.CONTENT_SEARCH_Z_EVENT_TYPE,O.CONTENT_SEARCH_Z_EVENT_VALUE,O.CONTENT_SEARCH_Z_EVENT_PLACE),c.openContentSearchOverlay(l)}})}:void 0),{hideEnrol:this.templateElementsConfig.hideEnrol,hideLogin:this.templateElementsConfig.hideLogin,showContentSearch:this.templateElementsConfig.hideContentSearch?!this.templateElementsConfig.hideContentSearch:this.showContentSearch,showLanguageSwitch:this.templateElementsConfig.showLanguageSwitch}))}isDisruptionBannerData(t){return Array.isArray(t.banners)}configureTopTasks(t){let n=this.getActiveLinkItem(t?.links,this.router.url);this.bwcPageTemplateCommunicatorService.topTaskItems.next(this.templateElementsConfig.showTopTasksMenu?this.configureLinks(t,O.TOP_TASK_Z_EVENT_TYPE,n.eventValue):null)}configureSidebar(t){if(this.templateElementsConfig.showSideNavMenu){let n=this.getActiveLinkItem(t?.links,this.router.url),o=this.configureLinks(t,O.BURGER_MENU_Z_EVENT_TYPE,n.eventValue);this.bwcPageTemplateCommunicatorService.sideNavLists.next(o&&[o])}}configureLinks(t,n,o){return t?.links?.reduce((s,a)=>{let{ariaLabel:l,url:c,uri:u,text:h,icon:p,openInNewWindow:m,eventValue:f}=a,g=this.createLinkRef(u,c);return s.push(k(C({ariaLabel:l},g),{label:h,icon:p,isHighlighted:a.emphasis,target:m?"_blank":"_self",isActive:this.templateElementsConfig.removeNavSelection?!1:o===f,clickHandler:()=>{this.tagHeaderComponents(n,f),this.bwcPageTemplateCommunicatorService.sideNavState.next({opened:!1})},childNav:a?.links?.length?this.configureLinks(a,O.BURGER_MENU_Z_EVENT_TYPE,this.getSubLinkActiveItem(a.links)):[]})),s},[])}createLinkRef(t,n){return t?{routerLink:t}:{href:this.linkFormatterService.format(n)}}tagHeaderComponents(t,n){let o=this.ubcService.activeUBC.name,s=this.ubcService.activeUBC.tiTagValue||"",l=this.miTaggingService.getTitleFromUrl(this.router.url,o)??this.ubcService.activeUBC.name;this.miTaggingService.tagLinkNavigation(s||l,o,t,n,O.HEADER_Z_EVENT_PLACE)}tagBannerComponents(t,n,o,s){let a=this.ubcService.activeUBC.name,c=this.ubcService.activeUBC.tiTagValue||a,u=t===Ke.PAGE_LOAD?{getAttribute:()=>a}:{},h={ti:c,z_eventvalue:o,z_eventplace:"notification",z_eventtype:n,z_application:a,dl:s};this.miTaggingService.measure(`${t}.${c}`,h,u)}addBanner(t,n){try{let{title:o,bannerType:s,description:a,titleLink:l,links:c}=t,u=(s+"|"+o?.split(" ").join("_")).toLowerCase(),h={type:this.getBannerType(s),title:o,linkList:c?this.createLinksList(u,c):null,content:a,scope:n,notificationClosed:()=>this.tagBannerComponents(Ke.CLICK,"closed",u,"userevent")};if(l?.url){let p=(0,lo.default)(l);p.url=this.linkFormatterService.format(l.url),h.titleLink=this.createTitleLink(u,p)}this.bwcPageTemplateCommunicatorService.notifications.next(h),this.tagBannerComponents(Ke.PAGE_LOAD,"shown",u,"notification")}catch{}}createTitleLink(t,n){let{url:o,eventValue:s,ariaLabel:a,openInNewWindow:l}=n;return{url:o,eventValue:s,ariaLabel:a,openInNewWindow:l,clickCallback:()=>this.tagBannerComponents(Ke.CLICK,"clicked",t,"userevent")}}createLinksList(t,n){return n?.map(o=>{o.url=this.linkFormatterService.format(o?.url);let{text:s,url:a,eventValue:l,ariaLabel:c,openInNewWindow:u}=o;return{text:s,url:a,eventValue:l,ariaLabel:c,openInNewWindow:u,clickCallback:()=>this.tagBannerComponents(Ke.CLICK,"clicked",t,"userevent")}})}getBannerType(t){return t==="ERM"?"error":t==="information"?"info":t}getActiveLinkItem(t,n){let o=this.ubcService.activeUBC.name,s=t?.filter(a=>{let l=a.uri??a.url;return a?.links?.some(u=>u.uri===this.router.url)||l?.includes(o)});return s?.length<=1?s.length===0?t[0]:s[0]:s?.reduce((a,l)=>{let c=l.uri??this.getLinkWithoutLocale(l.url),u=new RegExp(c,"g");return c&&u.test(n)?(a.uri??this.getLinkWithoutLocale(a.url))?.length>c?.length?a:l:a},{})}getLinkWithoutLocale(t){let n=t;return!n||n?.includes("/{{legacyHost}}/")?null:(n.startsWith("https://")&&(n=(new URL(t)?.pathname).replace(/^(\/[a-z]{2})(\/|$)/,(s,a)=>s.replace(a,""))),n.replace("/{{language}}",""))}getSubLinkActiveItem(t){return t?.reduce((o,s)=>s?.uri&&this.router.url.includes(s.uri)?o.uri?s.uri.length>o.uri.length?s:o:s:o,{})?.eventValue||null}loadContentSearch(){return z(this,null,function*(){H(this.platformId)&&(yield this.lazyServiceLoader.get(()=>import("./chunk-HSO36ILP.js").then(t=>t.OptimizelyService).catch(()=>null)),this.showContentSearch=!0)})}};e.\u0275fac=function(n){return new(n||e)(v(Se),v(Gt),v(q),v(Ee),v(Nt),v(Vt),v(qe),v(fe),v(ne),v(de),v(Ut),v(Z))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let i=e;return i})();var Os="Some of our website's systems are not operating as required. Please retry later.",co="common.fatal.backend.error",Rr=(()=>{let e=class e{get ubcClassName(){return this.ubcService.activeUBC?.className||""}constructor(t,n,o,s,a,l,c,u,h,p,m,f,g,A,w,R,F,x){this.headerTemplateService=t,this.footerTemplateService=n,this.taggingService=o,this.routerWatcherService=s,this.bwcPageTemplateCommunicatorService=a,this.sharedGlobalService=l,this.router=c,this.location=u,this.platformId=h,this.document=p,this.domainService=m,this.translocoService=f,this.translateUtilsService=g,this.ubcService=A,this.cookieService=w,this.lazyServiceLoader=R,this.variantService=F,this.bwcContextService=x,this.elementsToBeHidden={},this.destroy$=new ft,this.checkForDisruptionData=!0,this.showReassuranceBanner=!0,this.showOperationalBanner=!0,this.redirectionPrompt$=this.lazyServiceLoader.load(()=>import("./chunk-GHDLT755.js").then(N=>N.RedirectionPromptService)).pipe(Te(N=>N.initialize(this.supportedDomains)),Ci(N=>N.redirectionPrompt$));let{assetsPath:se,assetsPathServer:$,imageStaticDomain:I,brandedImageDomains:V}=this.sharedGlobalService.getGlobal(),Q=this.sharedGlobalService.getBrand();this.bwcContextService.configure({brand:Q,assetsPath:se+"/components",isPlatformServer:we(this.platformId),assetsPathServer:$+"/components",imageStaticDomain:I,brandedImageDomains:V}),this.domainService.setDomainDetails(),this.router.events.pipe(he(N=>N instanceof $i),gt(()=>this.router.events.pipe(he(N=>N instanceof Yi),tt())),pt(N=>N.snapshot.data?.pageTemplate?.refreshPage??{})).pipe(me(this.destroy$)).subscribe(N=>{this.bwcPageTemplateCommunicatorService.refreshPage.next({focusContent:typeof N.focusContent=="boolean"?N.focusContent:!0,scrollToTop:typeof N.scrollToTop=="boolean"?N.scrollToTop:!0})})}ngOnInit(){this.watchRouterData(),this.elementsToBeHidden=this.ubcService.getElementsToBeHidden(),this.bwcPageTemplateCommunicatorService.elementsToBeHidden.next(this.elementsToBeHidden);let t=this.sharedGlobalService.getGlobal();if(this.domainInfo=t.domainInfo,H(this.platformId)){if(this.headerTemplateService.configureBanner("erm").pipe(me(this.destroy$)).subscribe(),this.domainService.getDomainDetails().pipe(me(this.destroy$)).subscribe(o=>{if(o&&Object.keys(o.domainList).length!==0){let s=this.bwcPageTemplateCommunicatorService.logoHeader.getValue(),{countryList:a,domainList:l,languageList:c}=o;this.supportedDomains=l,this.countryList=a,this.languageList=c,this.setUpRedirectionPrompt(),this.bwcPageTemplateCommunicatorService.logoHeader.next(k(C({},s),{countryLanguageInput:this.createCountryLanguageInput(),switchCountryLanguage:u=>{let h=this.location.path().split("?")[0],p=this.document.location.host,m={languageCode:this.domainInfo.locale.urlPath,countryCode:this.domainInfo.country};if(!Fn(u,m)){this.tagCountryLanguageSwitch(),this.cookieService.put(Lt,Bn(u.countryCode,this.cookieService.get(Lt)),En(Lt)),this.document.location.href=Un(u,p,h);return}if(!xn(u,m)){let f=Vn(u,m,h,this.supportedDomains);if(f){this.tagCountryLanguageSwitch(),this.document.location.pathname=f;return}}}}))}}),t.backendDownBannerShown){let o=t.backendDownBannerCustomMessage?t.backendDownBannerCustomMessage:this.translateUtilsService.isLabelAvailable(co)?this.translocoService.translate(co):Os;this.bwcPageTemplateCommunicatorService.notifications.next({type:"error",scope:"operational",content:o})}let n=t.gin?1:0;this.variantService.pushOptimizelyUser({type:"user",attributes:{28394950272:n}})}}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}closeRedirectionNotice(){this.bwcPageTemplateCommunicatorService.logoHeader.next(k(C({},this.bwcPageTemplateCommunicatorService.logoHeader.getValue()),{isRedirectionNoticeVisible:!1}))}watchRouterData(){this.routerWatcherService.activeRoute$.pipe(me(this.destroy$)).subscribe(t=>{this.headerTemplateService.configureHeader(),this.footerTemplateService.configureFooter().pipe(me(this.destroy$)).subscribe(),this.isCrossUbc()&&this.configureCrossUbcElements(),H(this.platformId)&&(this.handleDisruptionBanner(),this.handleReassuranceBanner(),this.handleOperationalBanner())})}configureCrossUbcElements(){this.bwcPageTemplateCommunicatorService.scrollShrinkSubheader.next(null),this.bwcPageTemplateCommunicatorService.subheader.next(null),this.bwcPageTemplateCommunicatorService.notifications.next(it.ClearReassuranceNotification),this.bwcPageTemplateCommunicatorService.notifications.next(it.ClearErmNotifications),this.bwcPageTemplateCommunicatorService.notifications.next(it.ClearOperationalNotification),this.bwcPageTemplateCommunicatorService.notifications.next(it.ClearDisruptionNotification),this.checkForDisruptionData=!0,this.showReassuranceBanner=!0,this.showOperationalBanner=!0}isCrossUbc(){let t=this.ubcService.activeUBC.name;if(!this.previousUbcName)return this.previousUbcName=t,!1;let n=this.previousUbcName!==t;return this.previousUbcName=t,n}getCountryLanguageData(t){return Object.keys(t).length===0?[]:this.getCountryFromDomain(t)}getCountryFromDomain(t){let n=[],o={};return Object.keys(t).forEach(s=>{let a=t[s],l=a.country,c={name:this.getCountryNameByCode(l),code:l,languages:this.getLocalesFromDomain(a.locales)};o[c.name]||(n.push(c),o[c.name]=!0)}),n.push(...Jn.filter(s=>n.findIndex(a=>a.code.toLowerCase()==s.code.toLowerCase())<0)),n}getLocalesFromDomain(t){let n=[];return t.forEach(o=>{n.push({code:o.urlPath,name:this.getLanguageNameByCode(o.urlPath)})}),n}getLanguageNameByCode(t){return this.languageList.hasOwnProperty(t.toLowerCase())?this.languageList[t.toLowerCase()].nativeName:t}getCountryNameByCode(t){let n=t.toLowerCase();return this.countryList.hasOwnProperty(n)?this.countryList[n]:n}createCountryLanguageInput(){return{countryLanguageData:this.getCountryLanguageData(this.supportedDomains)}}tagCountryLanguageSwitch(){let t="onclick.countrylanguage.navigation",n=Object.assign({event:t,z_eventtype:"click",z_eventvalue:"CountryLanguage_Change",z_eventplace:"Header"});this.taggingService.measure(t,n,{})}handleDisruptionBanner(){let{showDisruptionNotification:t}=this.ubcService.getUBCElements();t&&this.checkForDisruptionData&&(this.headerTemplateService.configureBanner(st.disruption).pipe(me(this.destroy$)).subscribe(),this.checkForDisruptionData=!1)}handleReassuranceBanner(){let{showReassuranceNotification:t}=this.ubcService.getUBCElements();t&&this.showReassuranceBanner&&(this.headerTemplateService.configureBanner(st.reassurance).pipe(me(this.destroy$)).subscribe(),this.showReassuranceBanner=!1)}handleOperationalBanner(){let{showOperationalNotification:t}=this.ubcService.getUBCElements();t&&this.showOperationalBanner&&(this.headerTemplateService.configureBanner(st.operational).pipe(me(this.destroy$)).subscribe(),this.showOperationalBanner=!1)}setUpRedirectionPrompt(){this.redirectionPrompt$.pipe(me(this.destroy$)).subscribe(t=>{this.bwcPageTemplateCommunicatorService.logoHeader.next(k(C({},this.bwcPageTemplateCommunicatorService.logoHeader.getValue()),{isRedirectionNoticeVisible:t.type!=="none",redirectionPromptParams:t}))})}};e.\u0275fac=function(n){return new(n||e)(G(Qt),G(jt),G(Ee),G(xt),G(Se),G(q),G(ne),G(ji),G(Z),G(Et),G(Ot),G(W),G(Cn),G(fe),G(hn),G(Ut),G(An),G(pn))},e.\u0275cmp=wi({type:e,selectors:[["bw-app"]],hostVars:2,hostBindings:function(n,o){n&2&&Mi(o.ubcClassName)},standalone:!0,features:[Fi([jt,Qt,Gt,Pt,Vt,qe,{provide:Qe,useFactory:eo,deps:[W,q]}]),xi],decls:3,vars:0,consts:[["cdkMonitorSubtreeFocus",""],["main-view",""]],template:function(n,o){n&1&&(ki(0,"bwc-page-template",0)(1,"div",1),Di(2,"router-outlet"),Bi()())},dependencies:[Sn,_n,sn,bn,un,Zi],encapsulation:2});let i=e;return i})();var uo=[{path:"",loadChildren:()=>import("./chunk-KHWTBN4J.js").then(i=>i.HomepageModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"ancillaries",loadChildren:()=>import("./chunk-C7UOYBEI.js").then(i=>i.AncillariesModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"calamities",loadChildren:()=>import("./chunk-TOTHNBGM.js").then(i=>i.CalamitiesModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"check-in",loadChildren:()=>import("./chunk-46VDGDKM.js").then(i=>i.CheckInModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},data:{seoResourceURI:"check-in"}},{path:"checkout",loadChildren:()=>import("./chunk-6KHWCDRZ.js").then(i=>i.CheckoutModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"claim",loadChildren:()=>import("./chunk-KUY3TE3V.js").then(i=>i.ClaimModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"contact",loadChildren:()=>import("./chunk-GOMAVIRQ.js").then(i=>i.ContactUsModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},data:{seoResourceURI:"b_discuss/contactpage_search"}},{path:"content-search",loadChildren:()=>import("./chunk-JGCVFNTU.js").then(i=>i.ContentSearchRoutes),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"ctms",loadChildren:()=>import("./chunk-KCW6ESJJ.js").then(i=>i.CtmsRoutes),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},canActivate:[ze]},{path:"deals",loadChildren:()=>import("./chunk-US2QG5TI.js").then(i=>i.DealsModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"entertainment",loadChildren:()=>import("./chunk-XJ4IYTI7.js").then(i=>i.EntertainmentModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"flight-status",loadChildren:()=>import("./chunk-QA55N7PT.js").then(i=>i.FlightStatusModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},data:{seoResourceURI:"flight-status"}},{path:"group-travel",loadChildren:()=>import("./chunk-GIVCU54K.js").then(i=>i.GroupTravelRoutes),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"information",loadChildren:()=>import("./chunk-UYSTVN5G.js").then(i=>i.InformationModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"missing-baggage-claim",loadChildren:()=>import("./chunk-TXF7AJY4.js").then(i=>i.BaggageRecoveryModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"baggage-allowance",loadChildren:()=>import("./chunk-HITOHN6A.js").then(i=>i.BaggageAllowanceModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"profile",loadChildren:()=>import("./chunk-3G62KBVO.js").then(i=>i.ProfileModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},canActivate:[ze]},{path:"refund",loadChildren:()=>import("./chunk-QZS6GYTN.js").then(i=>i.RefundModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"scan",loadChildren:()=>import("./chunk-XUKAMFNH.js").then(i=>i.ScanModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"search",loadChildren:()=>import("./chunk-JIC6TFOV.js").then(i=>i.SearchModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"splash",loadChildren:()=>import("./chunk-VFZOBOQ4.js").then(i=>i.SplashRoutes),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"subscription",loadChildren:()=>import("./chunk-RYHDEAVR.js").then(i=>i.SubscriptionRoutes),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"travel-guide",loadChildren:()=>import("./chunk-ZFD4NAE3.js").then(i=>i.TravelGuideModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"trip",loadChildren:()=>import("./chunk-KI4TEYDA.js").then(i=>i.TripModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},data:{seoResourceURI:"trip"}},{path:"upgrade-offers",loadChildren:()=>import("./chunk-E3HZ5X3S.js").then(i=>i.UpgradeOffersFeatureRoutes),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"**",component:Bt,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}}];var ho=[{path:"",loadChildren:()=>import("./chunk-KHWTBN4J.js").then(i=>i.HomepageModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("ancillaries",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("calamities",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("check-in",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},data:{seoResourceURI:"check-in"}},{matcher:i=>U("checkout",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("claim",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("contact",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},data:{seoResourceURI:"b_discuss/contactpage_search"}},{matcher:i=>U("content-search",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("ctms",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},canActivate:[ze]},{path:"deals",loadChildren:()=>import("./chunk-US2QG5TI.js").then(i=>i.DealsModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("entertainment",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("flight-status",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},data:{seoResourceURI:"flight-status"}},{matcher:i=>U("group-travel",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"information",loadChildren:()=>import("./chunk-UYSTVN5G.js").then(i=>i.InformationModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("missing-baggage-claim",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("baggage-allowance",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("profile",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},canActivate:[ze]},{matcher:i=>U("refund",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("scan",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("search",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("splash",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("subscription",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},data:{seoResourceURI:"subscription/subscribe"}},{path:"travel-guide",loadChildren:()=>import("./chunk-ZFD4NAE3.js").then(i=>i.TravelGuideModule),resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("trip",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)},data:{seoResourceURI:"trip"}},{matcher:i=>U("upgrade",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{matcher:i=>U("upgrade-offers",i),component:D,resolve:{labelResolver:i=>d(S).resolve(i),cssResolver:i=>d(b).resolve(i)}},{path:"**",component:Bt}];function U(i,e){return e?.[0]?.path?.includes(i)?{consumed:e}:null}var $e={production:!0,ROUTES:uo,SERVER_ROUTES:ho};function mo(i){return new L(3e3,!1)}function Is(){return new L(3100,!1)}function Ms(){return new L(3101,!1)}function ks(i){return new L(3001,!1)}function Bs(i){return new L(3003,!1)}function Ds(i){return new L(3004,!1)}function Fs(i,e){return new L(3005,!1)}function xs(){return new L(3006,!1)}function Us(){return new L(3007,!1)}function Vs(i,e){return new L(3008,!1)}function Hs(i){return new L(3002,!1)}function js(i,e,r,t,n){return new L(3010,!1)}function Gs(){return new L(3011,!1)}function Qs(){return new L(3012,!1)}function Ks(){return new L(3200,!1)}function Ws(){return new L(3202,!1)}function zs(){return new L(3013,!1)}function qs(i){return new L(3014,!1)}function $s(i){return new L(3015,!1)}function Ys(i){return new L(3016,!1)}function Zs(i,e){return new L(3404,!1)}function Xs(i){return new L(3502,!1)}function Js(i){return new L(3503,!1)}function ea(){return new L(3300,!1)}function ta(i){return new L(3504,!1)}function ra(i){return new L(3301,!1)}function ia(i,e){return new L(3302,!1)}function na(i){return new L(3303,!1)}function oa(i,e){return new L(3400,!1)}function sa(i){return new L(3401,!1)}function aa(i){return new L(3402,!1)}function la(i,e){return new L(3505,!1)}function _e(i){switch(i.length){case 0:return new Ge;case 1:return i[0];default:return new br(i)}}function Ro(i,e,r=new Map,t=new Map){let n=[],o=[],s=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==s,h=u&&a||new Map;l.forEach((p,m)=>{let f=m,g=p;if(m!=="offset")switch(f=i.normalizePropertyName(f,n),g){case Rt:g=r.get(m);break;case pe:g=t.get(m);break;default:g=i.normalizeStyleValue(m,f,g,n);break}h.set(f,g)}),u||o.push(h),a=h,s=c}),n.length)throw Xs(n);return o}function Yr(i,e,r,t){switch(e){case"start":i.onStart(()=>t(r&&Pr(r,"start",i)));break;case"done":i.onDone(()=>t(r&&Pr(r,"done",i)));break;case"destroy":i.onDestroy(()=>t(r&&Pr(r,"destroy",i)));break}}function Pr(i,e,r){let t=r.totalTime,n=!!r.disabled,o=Zr(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,t??i.totalTime,n),s=i._data;return s!=null&&(o._data=s),o}function Zr(i,e,r,t,n="",o=0,s){return{element:i,triggerName:e,fromState:r,toState:t,phaseName:n,totalTime:o,disabled:!!s}}function re(i,e,r){let t=i.get(e);return t||i.set(e,t=r),t}function fo(i){let e=i.indexOf(":"),r=i.substring(1,e),t=i.slice(e+1);return[r,t]}var ca=typeof document>"u"?null:document.documentElement;function Xr(i){let e=i.parentNode||i.host||null;return e===ca?null:e}function ua(i){return i.substring(1,6)=="ebkit"}var Me=null,po=!1;function ha(i){Me||(Me=ma()||{},po=Me.style?"WebkitAppearance"in Me.style:!1);let e=!0;return Me.style&&!ua(i)&&(e=i in Me.style,!e&&po&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Me.style)),e}function ma(){return typeof document<"u"?document.body:null}function Po(i,e){for(;e;){if(e===i)return!0;e=Xr(e)}return!1}function Lo(i,e,r){if(r)return Array.from(i.querySelectorAll(e));let t=i.querySelector(e);return t?[t]:[]}var Jr=(()=>{let e=class e{validateStyleProperty(t){return ha(t)}matchesElement(t,n){return!1}containsElement(t,n){return Po(t,n)}getParentElement(t){return Xr(t)}query(t,n,o){return Lo(t,n,o)}computeStyle(t,n,o){return o||""}animate(t,n,o,s,a,l=[],c){return new Ge(o,s)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac});let i=e;return i})(),ii=class ii{};ii.NOOP=new Jr;var De=ii,Fe=class{};var da=1e3,No="{{",fa="}}",Oo="ng-enter",kr="ng-leave",Kt="ng-trigger",Yt=".ng-trigger",go="ng-animating",Br=".ng-animating";function ye(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Dr(parseFloat(e[1]),e[2])}function Dr(i,e){switch(e){case"s":return i*da;default:return i}}function Zt(i,e,r){return i.hasOwnProperty("duration")?i:pa(i,e,r)}function pa(i,e,r){let t=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,o=0,s="";if(typeof i=="string"){let a=i.match(t);if(a===null)return e.push(mo(i)),{duration:0,delay:0,easing:""};n=Dr(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=Dr(parseFloat(l),a[4]));let c=a[5];c&&(s=c)}else n=i;if(!r){let a=!1,l=e.length;n<0&&(e.push(Is()),a=!0),o<0&&(e.push(Ms()),a=!0),a&&e.splice(l,0,mo(i))}return{duration:n,delay:o,easing:s}}function ga(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function ge(i,e,r){e.forEach((t,n)=>{let o=ei(n);r&&!r.has(n)&&r.set(n,i.style[o]),i.style[o]=t})}function Be(i,e){e.forEach((r,t)=>{let n=ei(t);i.style[n]=""})}function at(i){return Array.isArray(i)?i.length==1?i[0]:dn(i):i}function va(i,e,r){let t=e.params||{},n=Io(i);n.length&&n.forEach(o=>{t.hasOwnProperty(o)||r.push(ks(o))})}var Fr=new RegExp(`${No}\\s*(.+?)\\s*${fa}`,"g");function Io(i){let e=[];if(typeof i=="string"){let r;for(;r=Fr.exec(i);)e.push(r[1]);Fr.lastIndex=0}return e}function ct(i,e,r){let t=`${i}`,n=t.replace(Fr,(o,s)=>{let a=e[s];return a==null&&(r.push(Bs(s)),a=""),a.toString()});return n==t?i:n}var ya=/-+([a-z0-9])/g;function ei(i){return i.replace(ya,(...e)=>e[1].toUpperCase())}function ba(i,e){return i===0||e===0}function Sa(i,e,r){if(r.size&&e.length){let t=e[0],n=[];if(r.forEach((o,s)=>{t.has(s)||n.push(s),t.set(s,o)}),n.length)for(let o=1;o<e.length;o++){let s=e[o];n.forEach(a=>s.set(a,ti(i,a)))}}return e}function te(i,e,r){switch(e.type){case T.Trigger:return i.visitTrigger(e,r);case T.State:return i.visitState(e,r);case T.Transition:return i.visitTransition(e,r);case T.Sequence:return i.visitSequence(e,r);case T.Group:return i.visitGroup(e,r);case T.Animate:return i.visitAnimate(e,r);case T.Keyframes:return i.visitKeyframes(e,r);case T.Style:return i.visitStyle(e,r);case T.Reference:return i.visitReference(e,r);case T.AnimateChild:return i.visitAnimateChild(e,r);case T.AnimateRef:return i.visitAnimateRef(e,r);case T.Query:return i.visitQuery(e,r);case T.Stagger:return i.visitStagger(e,r);default:throw Ds(e.type)}}function ti(i,e){return window.getComputedStyle(i)[e]}var Ea=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Xt=class extends Fe{normalizePropertyName(e,r){return ei(e)}normalizeStyleValue(e,r,t,n){let o="",s=t.toString().trim();if(Ea.has(r)&&t!==0&&t!=="0")if(typeof t=="number")o="px";else{let a=t.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&n.push(Fs(e,t))}return s+o}};var Jt="*";function _a(i,e){let r=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(t=>Ca(t,r,e)):r.push(i),r}function Ca(i,e,r){if(i[0]==":"){let l=Aa(i,r);if(typeof l=="function"){e.push(l);return}i=l}let t=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(t==null||t.length<4)return r.push($s(i)),e;let n=t[1],o=t[2],s=t[3];e.push(vo(n,s));let a=n==Jt&&s==Jt;o[0]=="<"&&!a&&e.push(vo(s,n))}function Aa(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(r,t)=>parseFloat(t)>parseFloat(r);case":decrement":return(r,t)=>parseFloat(t)<parseFloat(r);default:return e.push(Ys(i)),"* => *"}}var Wt=new Set(["true","1"]),zt=new Set(["false","0"]);function vo(i,e){let r=Wt.has(i)||zt.has(i),t=Wt.has(e)||zt.has(e);return(n,o)=>{let s=i==Jt||i==n,a=e==Jt||e==o;return!s&&r&&typeof n=="boolean"&&(s=n?Wt.has(i):zt.has(i)),!a&&t&&typeof o=="boolean"&&(a=o?Wt.has(e):zt.has(e)),s&&a}}var Mo=":self",Ta=new RegExp(`s*${Mo}s*,?`,"g");function ko(i,e,r,t){return new xr(i).build(e,r,t)}var yo="",xr=class{constructor(e){this._driver=e}build(e,r,t){let n=new Ur(r);return this._resetContextStyleTimingState(n),te(this,at(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector=yo,e.collectedStyles=new Map,e.collectedStyles.set(yo,new Map),e.currentTime=0}visitTrigger(e,r){let t=r.queryCount=0,n=r.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&r.errors.push(xs()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(r),a.type==T.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,r))}),l.name=c}else if(a.type==T.Transition){let l=this.visitTransition(a,r);t+=l.queryCount,n+=l.depCount,s.push(l)}else r.errors.push(Us())}),{type:T.Trigger,name:e.name,states:o,transitions:s,queryCount:t,depCount:n,options:null}}visitState(e,r){let t=this.visitStyle(e.styles,r),n=e.options&&e.options.params||null;if(t.containsDynamicStyles){let o=new Set,s=n||{};t.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Io(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&r.errors.push(Vs(e.name,[...o.values()]))}return{type:T.State,name:e.name,style:t,options:n?{params:n}:null}}visitTransition(e,r){r.queryCount=0,r.depCount=0;let t=te(this,at(e.animation),r),n=_a(e.expr,r.errors);return{type:T.Transition,matchers:n,animation:t,queryCount:r.queryCount,depCount:r.depCount,options:ke(e.options)}}visitSequence(e,r){return{type:T.Sequence,steps:e.steps.map(t=>te(this,t,r)),options:ke(e.options)}}visitGroup(e,r){let t=r.currentTime,n=0,o=e.steps.map(s=>{r.currentTime=t;let a=te(this,s,r);return n=Math.max(n,r.currentTime),a});return r.currentTime=n,{type:T.Group,steps:o,options:ke(e.options)}}visitAnimate(e,r){let t=La(e.timings,r.errors);r.currentAnimateTimings=t;let n,o=e.styles?e.styles:yr({});if(o.type==T.Keyframes)n=this.visitKeyframes(o,r);else{let s=e.styles,a=!1;if(!s){a=!0;let c={};t.easing&&(c.easing=t.easing),s=yr(c)}r.currentTime+=t.duration+t.delay;let l=this.visitStyle(s,r);l.isEmptyStep=a,n=l}return r.currentAnimateTimings=null,{type:T.Animate,timings:t,style:n,options:null}}visitStyle(e,r){let t=this._makeStyleAst(e,r);return this._validateStyleAst(t,r),t}_makeStyleAst(e,r){let t=[],n=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of n)typeof a=="string"?a===pe?t.push(a):r.errors.push(Hs(a)):t.push(new Map(Object.entries(a)));let o=!1,s=null;return t.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(No)>=0){o=!0;break}}}),{type:T.Style,styles:t,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,r){let t=r.currentAnimateTimings,n=r.currentTime,o=r.currentTime;t&&o>0&&(o-=t.duration+t.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let c=r.collectedStyles.get(r.currentQuerySelector),u=c.get(l),h=!0;u&&(o!=n&&o>=u.startTime&&n<=u.endTime&&(r.errors.push(js(l,u.startTime,u.endTime,o,n)),h=!1),o=u.startTime),h&&c.set(l,{startTime:o,endTime:n}),r.options&&va(a,r.options,r.errors)})})}visitKeyframes(e,r){let t={type:T.Keyframes,styles:[],options:null};if(!r.currentAnimateTimings)return r.errors.push(Gs()),t;let n=1,o=0,s=[],a=!1,l=!1,c=0,u=e.steps.map(w=>{let R=this._makeStyleAst(w,r),F=R.offset!=null?R.offset:Pa(R.styles),x=0;return F!=null&&(o++,x=R.offset=F),l=l||x<0||x>1,a=a||x<c,c=x,s.push(x),R});l&&r.errors.push(Qs()),a&&r.errors.push(Ks());let h=e.steps.length,p=0;o>0&&o<h?r.errors.push(Ws()):o==0&&(p=n/(h-1));let m=h-1,f=r.currentTime,g=r.currentAnimateTimings,A=g.duration;return u.forEach((w,R)=>{let F=p>0?R==m?1:p*R:s[R],x=F*A;r.currentTime=f+g.delay+x,g.duration=x,this._validateStyleAst(w,r),w.offset=F,t.styles.push(w)}),t}visitReference(e,r){return{type:T.Reference,animation:te(this,at(e.animation),r),options:ke(e.options)}}visitAnimateChild(e,r){return r.depCount++,{type:T.AnimateChild,options:ke(e.options)}}visitAnimateRef(e,r){return{type:T.AnimateRef,animation:this.visitReference(e.animation,r),options:ke(e.options)}}visitQuery(e,r){let t=r.currentQuerySelector,n=e.options||{};r.queryCount++,r.currentQuery=e;let[o,s]=wa(e.selector);r.currentQuerySelector=t.length?t+" "+o:o,re(r.collectedStyles,r.currentQuerySelector,new Map);let a=te(this,at(e.animation),r);return r.currentQuery=null,r.currentQuerySelector=t,{type:T.Query,selector:o,limit:n.limit||0,optional:!!n.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:ke(e.options)}}visitStagger(e,r){r.currentQuery||r.errors.push(zs());let t=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Zt(e.timings,r.errors,!0);return{type:T.Stagger,animation:te(this,at(e.animation),r),timings:t,options:null}}};function wa(i){let e=!!i.split(/\s*,\s*/).find(r=>r==Mo);return e&&(i=i.replace(Ta,"")),i=i.replace(/@\*/g,Yt).replace(/@\w+/g,r=>Yt+"-"+r.slice(1)).replace(/:animating/g,Br),[i,e]}function Ra(i){return i?C({},i):null}var Ur=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Pa(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(r=>{if(r instanceof Map&&r.has("offset")){let t=r;e=parseFloat(t.get("offset")),t.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let r=i;e=parseFloat(r.get("offset")),r.delete("offset")}return e}function La(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let o=Zt(i,e).duration;return Lr(o,0,"")}let r=i;if(r.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=Lr(0,0,"");return o.dynamic=!0,o.strValue=r,o}let n=Zt(r,e);return Lr(n.duration,n.delay,n.easing)}function ke(i){return i?(i=C({},i),i.params&&(i.params=Ra(i.params))):i={},i}function Lr(i,e,r){return{duration:i,delay:e,easing:r}}function ri(i,e,r,t,n,o,s=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:r,postStyleProps:t,duration:n,delay:o,totalTime:n+o,easing:s,subTimeline:a}}var ut=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,r){let t=this._map.get(e);t||this._map.set(e,t=[]),t.push(...r)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Na=1,Oa=":enter",Ia=new RegExp(Oa,"g"),Ma=":leave",ka=new RegExp(Ma,"g");function Bo(i,e,r,t,n,o=new Map,s=new Map,a,l,c=[]){return new Vr().buildKeyframes(i,e,r,t,n,o,s,a,l,c)}var Vr=class{buildKeyframes(e,r,t,n,o,s,a,l,c,u=[]){c=c||new ut;let h=new Hr(e,r,c,n,o,u,[]);h.options=l;let p=l.delay?ye(l.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([s],null,h.errors,l),te(this,t,h);let m=h.timelines.filter(f=>f.containsAnimation());if(m.length&&a.size){let f;for(let g=m.length-1;g>=0;g--){let A=m[g];if(A.element===r){f=A;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,h.errors,l)}return m.length?m.map(f=>f.buildKeyframes()):[ri(r,[],[],[],0,p,"",!1)]}visitTrigger(e,r){}visitState(e,r){}visitTransition(e,r){}visitAnimateChild(e,r){let t=r.subInstructions.get(r.element);if(t){let n=r.createSubContext(e.options),o=r.currentTimeline.currentTime,s=this._visitSubInstructions(t,n,n.options);o!=s&&r.transformIntoNewTimeline(s)}r.previousNode=e}visitAnimateRef(e,r){let t=r.createSubContext(e.options);t.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],r,t),this.visitReference(e.animation,t),r.transformIntoNewTimeline(t.currentTimeline.currentTime),r.previousNode=e}_applyAnimationRefDelays(e,r,t){for(let n of e){let o=n?.delay;if(o){let s=typeof o=="number"?o:ye(ct(o,n?.params??{},r.errors));t.delayNextStep(s)}}}_visitSubInstructions(e,r,t){let o=r.currentTimeline.currentTime,s=t.duration!=null?ye(t.duration):null,a=t.delay!=null?ye(t.delay):null;return s!==0&&e.forEach(l=>{let c=r.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,r){r.updateOptions(e.options,!0),te(this,e.animation,r),r.previousNode=e}visitSequence(e,r){let t=r.subContextCount,n=r,o=e.options;if(o&&(o.params||o.delay)&&(n=r.createSubContext(o),n.transformIntoNewTimeline(),o.delay!=null)){n.previousNode.type==T.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=er);let s=ye(o.delay);n.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>te(this,s,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>t&&n.transformIntoNewTimeline()),r.previousNode=e}visitGroup(e,r){let t=[],n=r.currentTimeline.currentTime,o=e.options&&e.options.delay?ye(e.options.delay):0;e.steps.forEach(s=>{let a=r.createSubContext(e.options);o&&a.delayNextStep(o),te(this,s,a),n=Math.max(n,a.currentTimeline.currentTime),t.push(a.currentTimeline)}),t.forEach(s=>r.currentTimeline.mergeTimelineCollectedStyles(s)),r.transformIntoNewTimeline(n),r.previousNode=e}_visitTiming(e,r){if(e.dynamic){let t=e.strValue,n=r.params?ct(t,r.params,r.errors):t;return Zt(n,r.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,r){let t=r.currentAnimateTimings=this._visitTiming(e.timings,r),n=r.currentTimeline;t.delay&&(r.incrementTime(t.delay),n.snapshotCurrentStyles());let o=e.style;o.type==T.Keyframes?this.visitKeyframes(o,r):(r.incrementTime(t.duration),this.visitStyle(o,r),n.applyStylesToKeyframe()),r.currentAnimateTimings=null,r.previousNode=e}visitStyle(e,r){let t=r.currentTimeline,n=r.currentAnimateTimings;!n&&t.hasCurrentStyleProperties()&&t.forwardFrame();let o=n&&n.easing||e.easing;e.isEmptyStep?t.applyEmptyStep(o):t.setStyles(e.styles,o,r.errors,r.options),r.previousNode=e}visitKeyframes(e,r){let t=r.currentAnimateTimings,n=r.currentTimeline.duration,o=t.duration,a=r.createSubContext().currentTimeline;a.easing=t.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*o),a.setStyles(l.styles,l.easing,r.errors,r.options),a.applyStylesToKeyframe()}),r.currentTimeline.mergeTimelineCollectedStyles(a),r.transformIntoNewTimeline(n+o),r.previousNode=e}visitQuery(e,r){let t=r.currentTimeline.currentTime,n=e.options||{},o=n.delay?ye(n.delay):0;o&&(r.previousNode.type===T.Style||t==0&&r.currentTimeline.hasCurrentStyleProperties())&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=er);let s=t,a=r.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,r.errors);r.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{r.currentQueryIndex=u;let h=r.createSubContext(e.options,c);o&&h.delayNextStep(o),c===r.element&&(l=h.currentTimeline),te(this,e.animation,h),h.currentTimeline.applyStylesToKeyframe();let p=h.currentTimeline.currentTime;s=Math.max(s,p)}),r.currentQueryIndex=0,r.currentQueryTotal=0,r.transformIntoNewTimeline(s),l&&(r.currentTimeline.mergeTimelineCollectedStyles(l),r.currentTimeline.snapshotCurrentStyles()),r.previousNode=e}visitStagger(e,r){let t=r.parentContext,n=r.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(r.currentQueryTotal-1),l=s*r.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=t.currentStaggerTime;break}let u=r.currentTimeline;l&&u.delayNextStep(l);let h=u.currentTime;te(this,e.animation,r),r.previousNode=e,t.currentStaggerTime=n.currentTime-h+(n.startTime-t.currentTimeline.startTime)}},er={},Hr=class i{constructor(e,r,t,n,o,s,a,l){this._driver=e,this.element=r,this.subInstructions=t,this._enterClassName=n,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=er,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new tr(this._driver,r,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,r){if(!e)return;let t=e,n=this.options;t.duration!=null&&(n.duration=ye(t.duration)),t.delay!=null&&(n.delay=ye(t.delay));let o=t.params;if(o){let s=n.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!r||!s.hasOwnProperty(a))&&(s[a]=ct(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let r=this.options.params;if(r){let t=e.params={};Object.keys(r).forEach(n=>{t[n]=r[n]})}}return e}createSubContext(e=null,r,t){let n=r||this.element,o=new i(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,t||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=er,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,r,t){let n={duration:r??e.duration,delay:this.currentTimeline.currentTime+(t??0)+e.delay,easing:""},o=new jr(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(o),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,r,t,n,o,s){let a=[];if(n&&a.push(this.element),e.length>0){e=e.replace(Ia,"."+this._enterClassName),e=e.replace(ka,"."+this._leaveClassName);let l=t!=1,c=this._driver.query(this.element,e,l);t!==0&&(c=t<0?c.slice(c.length+t,c.length):c.slice(0,t)),a.push(...c)}return!o&&a.length==0&&s.push(qs(r)),a}},tr=class i{constructor(e,r,t,n){this._driver=e,this.element=r,this.startTime=t,this._elementTimelineStylesLookup=n,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(r),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(r,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let r=this._keyframes.size===1&&this._pendingStyles.size;this.duration||r?(this.forwardTime(this.currentTime+e),r&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,r){return this.applyStylesToKeyframe(),new i(this._driver,e,r||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Na,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,r){this._localTimelineStyles.set(e,r),this._globalTimelineStyles.set(e,r),this._styleSummary.set(e,{time:this.currentTime,value:r})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[r,t]of this._globalTimelineStyles)this._backFill.set(r,t||pe),this._currentKeyframe.set(r,pe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,r,t,n){r&&this._previousKeyframe.set("easing",r);let o=n&&n.params||{},s=Ba(e,this._globalTimelineStyles);for(let[a,l]of s){let c=ct(l,o,t);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??pe),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,r)=>{this._currentKeyframe.set(r,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,r)=>{this._currentKeyframe.has(r)||this._currentKeyframe.set(r,e)}))}snapshotCurrentStyles(){for(let[e,r]of this._localTimelineStyles)this._pendingStyles.set(e,r),this._updateStyle(e,r)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let r in this._currentKeyframe)e.push(r);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((r,t)=>{let n=this._styleSummary.get(t);(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,r=new Set,t=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{u===Rt?e.add(h):u===pe&&r.add(h)}),t||c.set("offset",l/this.duration),n.push(c)});let o=[...e.values()],s=[...r.values()];if(t){let a=n[0],l=new Map(a);a.set("offset",0),l.set("offset",1),n=[a,l]}return ri(this.element,n,o,s,this.duration,this.startTime,this.easing,!1)}},jr=class extends tr{constructor(e,r,t,n,o,s,a=!1){super(e,r,s.delay),this.keyframes=t,this.preStyleProps=n,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:r,duration:t,easing:n}=this.timings;if(this._stretchStartingKeyframe&&r){let o=[],s=t+r,a=r/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let c=new Map(e[0]);c.set("offset",bo(a)),o.push(c);let u=e.length-1;for(let h=1;h<=u;h++){let p=new Map(e[h]),m=p.get("offset"),f=r+m*t;p.set("offset",bo(f/s)),o.push(p)}t=s,r=0,n="",e=o}return ri(this.element,e,this.preStyleProps,this.postStyleProps,t,r,n,!0)}};function bo(i,e=3){let r=Math.pow(10,e-1);return Math.round(i*r)/r}function Ba(i,e){let r=new Map,t;return i.forEach(n=>{if(n==="*"){t??=e.keys();for(let o of t)r.set(o,pe)}else for(let[o,s]of n)r.set(o,s)}),r}function So(i,e,r,t,n,o,s,a,l,c,u,h,p){return{type:0,element:i,triggerName:e,isRemovalTransition:n,fromState:r,fromStyles:o,toState:t,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:p}}var Nr={},rr=class{constructor(e,r,t){this._triggerName=e,this.ast=r,this._stateStyles=t}match(e,r,t,n){return Da(this.ast.matchers,e,r,t,n)}buildStyles(e,r,t){let n=this._stateStyles.get("*");return e!==void 0&&(n=this._stateStyles.get(e?.toString())||n),n?n.buildStyles(r,t):new Map}build(e,r,t,n,o,s,a,l,c,u){let h=[],p=this.ast.options&&this.ast.options.params||Nr,m=a&&a.params||Nr,f=this.buildStyles(t,m,h),g=l&&l.params||Nr,A=this.buildStyles(n,g,h),w=new Set,R=new Map,F=new Map,x=n==="void",se={params:Do(g,p),delay:this.ast.options?.delay},$=u?[]:Bo(e,r,this.ast.animation,o,s,f,A,se,c,h),I=0;return $.forEach(V=>{I=Math.max(V.duration+V.delay,I)}),h.length?So(r,this._triggerName,t,n,x,f,A,[],[],R,F,I,h):($.forEach(V=>{let Q=V.element,N=re(R,Q,new Set);V.preStyleProps.forEach(ce=>N.add(ce));let le=re(F,Q,new Set);V.postStyleProps.forEach(ce=>le.add(ce)),Q!==r&&w.add(Q)}),So(r,this._triggerName,t,n,x,f,A,$,[...w.values()],R,F,I))}};function Da(i,e,r,t,n){return i.some(o=>o(e,r,t,n))}function Do(i,e){let r=C({},e);return Object.entries(i).forEach(([t,n])=>{n!=null&&(r[t]=n)}),r}var Gr=class{constructor(e,r,t){this.styles=e,this.defaultParams=r,this.normalizer=t}buildStyles(e,r){let t=new Map,n=Do(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=ct(s,n,r));let l=this.normalizer.normalizePropertyName(a,r);s=this.normalizer.normalizeStyleValue(a,l,s,r),t.set(a,s)})}),t}};function Fa(i,e,r){return new Qr(i,e,r)}var Qr=class{constructor(e,r,t){this.name=e,this.ast=r,this._normalizer=t,this.transitionFactories=[],this.states=new Map,r.states.forEach(n=>{let o=n.options&&n.options.params||{};this.states.set(n.name,new Gr(n.style,o,t))}),Eo(this.states,"true","1"),Eo(this.states,"false","0"),r.transitions.forEach(n=>{this.transitionFactories.push(new rr(e,n,this.states))}),this.fallbackTransition=xa(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,r,t,n){return this.transitionFactories.find(s=>s.match(e,r,t,n))||null}matchStyles(e,r,t){return this.fallbackTransition.buildStyles(e,r,t)}};function xa(i,e,r){let t=[(s,a)=>!0],n={type:T.Sequence,steps:[],options:null},o={type:T.Transition,animation:n,matchers:t,options:null,queryCount:0,depCount:0};return new rr(i,o,e)}function Eo(i,e,r){i.has(e)?i.has(r)||i.set(r,i.get(e)):i.has(r)&&i.set(e,i.get(r))}var Ua=new ut,Kr=class{constructor(e,r,t){this.bodyNode=e,this._driver=r,this._normalizer=t,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,r){let t=[],n=[],o=ko(this._driver,r,t,n);if(t.length)throw Js(t);n.length&&void 0,this._animations.set(e,o)}_buildPlayer(e,r,t){let n=e.element,o=Ro(this._normalizer,e.keyframes,r,t);return this._driver.animate(n,o,e.duration,e.delay,e.easing,[],!0)}create(e,r,t={}){let n=[],o=this._animations.get(e),s,a=new Map;if(o?(s=Bo(this._driver,r,o,Oo,kr,new Map,new Map,t,Ua,n),s.forEach(u=>{let h=re(a,u.element,new Map);u.postStyleProps.forEach(p=>h.set(p,null))})):(n.push(ea()),s=[]),n.length)throw ta(n);a.forEach((u,h)=>{u.forEach((p,m)=>{u.set(m,this._driver.computeStyle(h,m,pe))})});let l=s.map(u=>{let h=a.get(u.element);return this._buildPlayer(u,new Map,h)}),c=_e(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let r=this._getPlayer(e);r.destroy(),this._playersById.delete(e);let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1)}_getPlayer(e){let r=this._playersById.get(e);if(!r)throw ra(e);return r}listen(e,r,t,n){let o=Zr(r,"","","");return Yr(this._getPlayer(e),t,o,n),()=>{}}command(e,r,t,n){if(t=="register"){this.register(e,n[0]);return}if(t=="create"){let s=n[0]||{};this.create(e,r,s);return}let o=this._getPlayer(e);switch(t){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e);break}}},_o="ng-animate-queued",Va=".ng-animate-queued",Or="ng-animate-disabled",Ha=".ng-animate-disabled",ja="ng-star-inserted",Ga=".ng-star-inserted",Qa=[],Fo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ka={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ae="__ng_removed",ht=class{get params(){return this.options.params}constructor(e,r=""){this.namespaceId=r;let t=e&&e.hasOwnProperty("value"),n=t?e.value:e;if(this.value=za(n),t){let o=e,{value:s}=o,a=fi(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let r=e.params;if(r){let t=this.options.params;Object.keys(r).forEach(n=>{t[n]==null&&(t[n]=r[n])})}}},lt="void",Ir=new ht(lt),Wr=class{constructor(e,r,t){this.id=e,this.hostElement=r,this._engine=t,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,oe(r,this._hostClassName)}listen(e,r,t,n){if(!this._triggers.has(r))throw ia(t,r);if(t==null||t.length==0)throw na(r);if(!qa(t))throw oa(t,r);let o=re(this._elementListeners,e,[]),s={name:r,phase:t,callback:n};o.push(s);let a=re(this._engine.statesByElement,e,new Map);return a.has(r)||(oe(e,Kt),oe(e,Kt+"-"+r),a.set(r,Ir)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(r)||a.delete(r)})}}register(e,r){return this._triggers.has(e)?!1:(this._triggers.set(e,r),!0)}_getTrigger(e){let r=this._triggers.get(e);if(!r)throw sa(e);return r}trigger(e,r,t,n=!0){let o=this._getTrigger(r),s=new mt(this.id,r,e),a=this._engine.statesByElement.get(e);a||(oe(e,Kt),oe(e,Kt+"-"+r),this._engine.statesByElement.set(e,a=new Map));let l=a.get(r),c=new ht(t,this.id);if(!(t&&t.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(r,c),l||(l=Ir),!(c.value===lt)&&l.value===c.value){if(!Za(l.params,c.params)){let g=[],A=o.matchStyles(l.value,l.params,g),w=o.matchStyles(c.value,c.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Be(e,A),ge(e,w)})}return}let p=re(this._engine.playersByElement,e,[]);p.forEach(g=>{g.namespaceId==this.id&&g.triggerName==r&&g.queued&&g.destroy()});let m=o.matchTransition(l.value,c.value,e,c.params),f=!1;if(!m){if(!n)return;m=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:r,transition:m,fromState:l,toState:c,player:s,isFallbackTransition:f}),f||(oe(e,_o),s.onStart(()=>{Ye(e,_o)})),s.onDone(()=>{let g=this.players.indexOf(s);g>=0&&this.players.splice(g,1);let A=this._engine.playersByElement.get(e);if(A){let w=A.indexOf(s);w>=0&&A.splice(w,1)}}),this.players.push(s),p.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(r=>r.delete(e)),this._elementListeners.forEach((r,t)=>{this._elementListeners.set(t,r.filter(n=>n.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let r=this._engine.playersByElement.get(e);r&&(r.forEach(t=>t.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,r){let t=this._engine.driver.query(e,Yt,!0);t.forEach(n=>{if(n[ae])return;let o=this._engine.fetchNamespacesByElement(n);o.size?o.forEach(s=>s.triggerLeaveAnimation(n,r,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>t.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(e,r,t,n){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,lt,n);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,r,s),t&&_e(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let r=this._elementListeners.get(e),t=this._engine.statesByElement.get(e);if(r&&t){let n=new Set;r.forEach(o=>{let s=o.name;if(n.has(s))return;n.add(s);let l=this._triggers.get(s).fallbackTransition,c=t.get(s)||Ir,u=new ht(lt),h=new mt(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(e,r){let t=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,r),this.triggerLeaveAnimation(e,r,!0))return;let n=!1;if(t.totalAnimations){let o=t.players.length?t.playersByQueriedElement.get(e):[];if(o&&o.length)n=!0;else{let s=e;for(;s=s.parentNode;)if(t.statesByElement.get(s)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)t.markElementAsRemoved(this.id,e,!1,r);else{let o=e[ae];(!o||o===Fo)&&(t.afterFlush(()=>this.clearElementCache(e)),t.destroyInnerAnimations(e),t._onRemovalComplete(e,r))}}insertNode(e,r){oe(e,this._hostClassName)}drainQueuedTransitions(e){let r=[];return this._queue.forEach(t=>{let n=t.player;if(n.destroyed)return;let o=t.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==t.triggerName){let l=Zr(o,t.triggerName,t.fromState.value,t.toState.value);l._data=e,Yr(t.player,a.phase,l,a.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):r.push(t)}),this._queue=[],r.sort((t,n)=>{let o=t.transition.ast.depCount,s=n.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(t.element,n.element)?1:-1})}destroy(e){this.players.forEach(r=>r.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},zr=class{_onRemovalComplete(e,r){this.onRemovalComplete(e,r)}constructor(e,r,t,n){this.bodyNode=e,this.driver=r,this._normalizer=t,this.scheduler=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(r=>{r.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,r){let t=new Wr(e,r,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,r)?this._balanceNamespaceList(t,r):(this.newHostElements.set(r,t),this.collectEnterElement(r)),this._namespaceLookup[e]=t}_balanceNamespaceList(e,r){let t=this._namespaceList,n=this.namespacesByHostElement;if(t.length-1>=0){let s=!1,a=this.driver.getParentElement(r);for(;a;){let l=n.get(a);if(l){let c=t.indexOf(l);t.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||t.unshift(e)}else t.push(e);return n.set(r,e),e}register(e,r){let t=this._namespaceLookup[e];return t||(t=this.createNamespace(e,r)),t}registerTrigger(e,r,t){let n=this._namespaceLookup[e];n&&n.register(r,t)&&this.totalAnimations++}destroy(e,r){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let t=this._fetchNamespace(e);this.namespacesByHostElement.delete(t.hostElement);let n=this._namespaceList.indexOf(t);n>=0&&this._namespaceList.splice(n,1),t.destroy(r),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let r=new Set,t=this.statesByElement.get(e);if(t){for(let n of t.values())if(n.namespaceId){let o=this._fetchNamespace(n.namespaceId);o&&r.add(o)}}return r}trigger(e,r,t,n){if(qt(r)){let o=this._fetchNamespace(e);if(o)return o.trigger(r,t,n),!0}return!1}insertNode(e,r,t,n){if(!qt(r))return;let o=r[ae];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(r);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(r,t)}n&&this.collectEnterElement(r)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,r){r?this.disabledNodes.has(e)||(this.disabledNodes.add(e),oe(e,Or)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ye(e,Or))}removeNode(e,r,t){if(qt(r)){this.scheduler?.notify();let n=e?this._fetchNamespace(e):null;n?n.removeNode(r,t):this.markElementAsRemoved(e,r,!1,t);let o=this.namespacesByHostElement.get(r);o&&o.id!==e&&o.removeNode(r,t)}else this._onRemovalComplete(r,t)}markElementAsRemoved(e,r,t,n,o){this.collectedLeaveElements.push(r),r[ae]={namespaceId:e,setForRemoval:n,hasAnimation:t,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,r,t,n,o){return qt(r)?this._fetchNamespace(e).listen(r,t,n,o):()=>{}}_buildInstruction(e,r,t,n,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,t,n,e.fromState.options,e.toState.options,r,o)}destroyInnerAnimations(e){let r=this.driver.query(e,Yt,!0);r.forEach(t=>this.destroyActiveAnimationsForElement(t)),this.playersByQueriedElement.size!=0&&(r=this.driver.query(e,Br,!0),r.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(e){let r=this.playersByElement.get(e);r&&r.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(e){let r=this.playersByQueriedElement.get(e);r&&r.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return _e(this.players).onDone(()=>e());e()})}processLeaveNode(e){let r=e[ae];if(r&&r.setForRemoval){if(e[ae]=Fo,r.namespaceId){this.destroyInnerAnimations(e);let t=this._fetchNamespace(r.namespaceId);t&&t.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}e.classList?.contains(Or)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Ha,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(e=-1){let r=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,n)=>this._balanceNamespaceList(t,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let t=0;t<this.collectedEnterElements.length;t++){let n=this.collectedEnterElements[t];oe(n,ja)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let t=[];try{r=this._flushAnimations(t,e)}finally{for(let n=0;n<t.length;n++)t[n]()}}else for(let t=0;t<this.collectedLeaveElements.length;t++){let n=this.collectedLeaveElements[t];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){let t=this._whenQuietFns;this._whenQuietFns=[],r.length?_e(r).onDone(()=>{t.forEach(n=>n())}):t.forEach(n=>n())}}reportError(e){throw aa(e)}_flushAnimations(e,r){let t=new ut,n=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(y=>{u.add(y);let E=this.driver.query(y,Va,!0);for(let _=0;_<E.length;_++)u.add(E[_])});let h=this.bodyNode,p=Array.from(this.statesByElement.keys()),m=To(p,this.collectedEnterElements),f=new Map,g=0;m.forEach((y,E)=>{let _=Oo+g++;f.set(E,_),y.forEach(P=>oe(P,_))});let A=[],w=new Set,R=new Set;for(let y=0;y<this.collectedLeaveElements.length;y++){let E=this.collectedLeaveElements[y],_=E[ae];_&&_.setForRemoval&&(A.push(E),w.add(E),_.hasAnimation?this.driver.query(E,Ga,!0).forEach(P=>w.add(P)):R.add(E))}let F=new Map,x=To(p,Array.from(w));x.forEach((y,E)=>{let _=kr+g++;F.set(E,_),y.forEach(P=>oe(P,_))}),e.push(()=>{m.forEach((y,E)=>{let _=f.get(E);y.forEach(P=>Ye(P,_))}),x.forEach((y,E)=>{let _=F.get(E);y.forEach(P=>Ye(P,_))}),A.forEach(y=>{this.processLeaveNode(y)})});let se=[],$=[];for(let y=this._namespaceList.length-1;y>=0;y--)this._namespaceList[y].drainQueuedTransitions(r).forEach(_=>{let P=_.player,K=_.element;if(se.push(P),this.collectedEnterElements.length){let Y=K[ae];if(Y&&Y.setForMove){if(Y.previousTriggersValues&&Y.previousTriggersValues.has(_.triggerName)){let Ae=Y.previousTriggersValues.get(_.triggerName),ie=this.statesByElement.get(_.element);if(ie&&ie.has(_.triggerName)){let dt=ie.get(_.triggerName);dt.value=Ae,ie.set(_.triggerName,dt)}}P.destroy();return}}let ue=!h||!this.driver.containsElement(h,K),J=F.get(K),be=f.get(K),B=this._buildInstruction(_,t,be,J,ue);if(B.errors&&B.errors.length){$.push(B);return}if(ue){P.onStart(()=>Be(K,B.fromStyles)),P.onDestroy(()=>ge(K,B.toStyles)),n.push(P);return}if(_.isFallbackTransition){P.onStart(()=>Be(K,B.fromStyles)),P.onDestroy(()=>ge(K,B.toStyles)),n.push(P);return}let di=[];B.timelines.forEach(Y=>{Y.stretchStartingKeyframe=!0,this.disabledNodes.has(Y.element)||di.push(Y)}),B.timelines=di,t.append(K,B.timelines);let hs={instruction:B,player:P,element:K};s.push(hs),B.queriedElements.forEach(Y=>re(a,Y,[]).push(P)),B.preStyleProps.forEach((Y,Ae)=>{if(Y.size){let ie=l.get(Ae);ie||l.set(Ae,ie=new Set),Y.forEach((dt,hr)=>ie.add(hr))}}),B.postStyleProps.forEach((Y,Ae)=>{let ie=c.get(Ae);ie||c.set(Ae,ie=new Set),Y.forEach((dt,hr)=>ie.add(hr))})});if($.length){let y=[];$.forEach(E=>{y.push(la(E.triggerName,E.errors))}),se.forEach(E=>E.destroy()),this.reportError(y)}let I=new Map,V=new Map;s.forEach(y=>{let E=y.element;t.has(E)&&(V.set(E,E),this._beforeAnimationBuild(y.player.namespaceId,y.instruction,I))}),n.forEach(y=>{let E=y.element;this._getPreviousPlayers(E,!1,y.namespaceId,y.triggerName,null).forEach(P=>{re(I,E,[]).push(P),P.destroy()})});let Q=A.filter(y=>wo(y,l,c)),N=new Map;Ao(N,this.driver,R,c,pe).forEach(y=>{wo(y,l,c)&&Q.push(y)});let ce=new Map;m.forEach((y,E)=>{Ao(ce,this.driver,new Set(y),l,Rt)}),Q.forEach(y=>{let E=N.get(y),_=ce.get(y);N.set(y,new Map([...E?.entries()??[],..._?.entries()??[]]))});let Ce=[],Je=[],mi={};s.forEach(y=>{let{element:E,player:_,instruction:P}=y;if(t.has(E)){if(u.has(E)){_.onDestroy(()=>ge(E,P.toStyles)),_.disabled=!0,_.overrideTotalTime(P.totalTime),n.push(_);return}let K=mi;if(V.size>1){let J=E,be=[];for(;J=J.parentNode;){let B=V.get(J);if(B){K=B;break}be.push(J)}be.forEach(B=>V.set(B,K))}let ue=this._buildAnimation(_.namespaceId,P,I,o,ce,N);if(_.setRealPlayer(ue),K===mi)Ce.push(_);else{let J=this.playersByElement.get(K);J&&J.length&&(_.parentPlayer=_e(J)),n.push(_)}}else Be(E,P.fromStyles),_.onDestroy(()=>ge(E,P.toStyles)),Je.push(_),u.has(E)&&n.push(_)}),Je.forEach(y=>{let E=o.get(y.element);if(E&&E.length){let _=_e(E);y.setRealPlayer(_)}}),n.forEach(y=>{y.parentPlayer?y.syncPlayerEvents(y.parentPlayer):y.destroy()});for(let y=0;y<A.length;y++){let E=A[y],_=E[ae];if(Ye(E,kr),_&&_.hasAnimation)continue;let P=[];if(a.size){let ue=a.get(E);ue&&ue.length&&P.push(...ue);let J=this.driver.query(E,Br,!0);for(let be=0;be<J.length;be++){let B=a.get(J[be]);B&&B.length&&P.push(...B)}}let K=P.filter(ue=>!ue.destroyed);K.length?$a(this,E,K):this.processLeaveNode(E)}return A.length=0,Ce.forEach(y=>{this.players.push(y),y.onDone(()=>{y.destroy();let E=this.players.indexOf(y);this.players.splice(E,1)}),y.play()}),Ce}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,r,t,n,o){let s=[];if(r){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==lt;a.forEach(c=>{c.queued||!l&&c.triggerName!=n||s.push(c)})}}return(t||n)&&(s=s.filter(a=>!(t&&t!=a.namespaceId||n&&n!=a.triggerName))),s}_beforeAnimationBuild(e,r,t){let n=r.triggerName,o=r.element,s=r.isRemovalTransition?void 0:e,a=r.isRemovalTransition?void 0:n;for(let l of r.timelines){let c=l.element,u=c!==o,h=re(t,c,[]);this._getPreviousPlayers(c,u,s,a,r.toState).forEach(m=>{let f=m.getRealPlayer();f.beforeDestroy&&f.beforeDestroy(),m.destroy(),h.push(m)})}Be(o,r.fromStyles)}_buildAnimation(e,r,t,n,o,s){let a=r.triggerName,l=r.element,c=[],u=new Set,h=new Set,p=r.timelines.map(f=>{let g=f.element;u.add(g);let A=g[ae];if(A&&A.removedBeforeQueried)return new Ge(f.duration,f.delay);let w=g!==l,R=Ya((t.get(g)||Qa).map(I=>I.getRealPlayer())).filter(I=>{let V=I;return V.element?V.element===g:!1}),F=o.get(g),x=s.get(g),se=Ro(this._normalizer,f.keyframes,F,x),$=this._buildPlayer(f,se,R);if(f.subTimeline&&n&&h.add(g),w){let I=new mt(e,a,g);I.setRealPlayer($),c.push(I)}return $});c.forEach(f=>{re(this.playersByQueriedElement,f.element,[]).push(f),f.onDone(()=>Wa(this.playersByQueriedElement,f.element,f))}),u.forEach(f=>oe(f,go));let m=_e(p);return m.onDestroy(()=>{u.forEach(f=>Ye(f,go)),ge(l,r.toStyles)}),h.forEach(f=>{re(n,f,[]).push(m)}),m}_buildPlayer(e,r,t){return r.length>0?this.driver.animate(e.element,r,e.duration,e.delay,e.easing,t):new Ge(e.duration,e.delay)}},mt=class{constructor(e,r,t){this.namespaceId=e,this.triggerName=r,this.element=t,this._player=new Ge,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((r,t)=>{r.forEach(n=>Yr(e,t,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let r=this._player;r.triggerCallback&&e.onStart(()=>r.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,r){re(this._queuedCallbacks,e,[]).push(r)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let r=this._player;r.triggerCallback&&r.triggerCallback(e)}};function Wa(i,e,r){let t=i.get(e);if(t){if(t.length){let n=t.indexOf(r);t.splice(n,1)}t.length==0&&i.delete(e)}return t}function za(i){return i??null}function qt(i){return i&&i.nodeType===1}function qa(i){return i=="start"||i=="done"}function Co(i,e){let r=i.style.display;return i.style.display=e??"none",r}function Ao(i,e,r,t,n){let o=[];r.forEach(l=>o.push(Co(l)));let s=[];t.forEach((l,c)=>{let u=new Map;l.forEach(h=>{let p=e.computeStyle(c,h,n);u.set(h,p),(!p||p.length==0)&&(c[ae]=Ka,s.push(c))}),i.set(c,u)});let a=0;return r.forEach(l=>Co(l,o[a++])),s}function To(i,e){let r=new Map;if(i.forEach(a=>r.set(a,[])),e.length==0)return r;let t=1,n=new Set(e),o=new Map;function s(a){if(!a)return t;let l=o.get(a);if(l)return l;let c=a.parentNode;return r.has(c)?l=c:n.has(c)?l=t:l=s(c),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==t&&r.get(l).push(a)}),r}function oe(i,e){i.classList?.add(e)}function Ye(i,e){i.classList?.remove(e)}function $a(i,e,r){_e(r).onDone(()=>i.processLeaveNode(e))}function Ya(i){let e=[];return xo(i,e),e}function xo(i,e){for(let r=0;r<i.length;r++){let t=i[r];t instanceof br?xo(t.players,e):e.push(t)}}function Za(i,e){let r=Object.keys(i),t=Object.keys(e);if(r.length!=t.length)return!1;for(let n=0;n<r.length;n++){let o=r[n];if(!e.hasOwnProperty(o)||i[o]!==e[o])return!1}return!0}function wo(i,e,r){let t=r.get(i);if(!t)return!1;let n=e.get(i);return n?t.forEach(o=>n.add(o)):e.set(i,t),r.delete(i),!0}var Xe=class{constructor(e,r,t,n){this._driver=r,this._normalizer=t,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new zr(e.body,r,t,n),this._timelineEngine=new Kr(e.body,r,t),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,r,t,n,o){let s=e+"-"+n,a=this._triggerCache[s];if(!a){let l=[],c=[],u=ko(this._driver,o,l,c);if(l.length)throw Zs(n,l);c.length&&void 0,a=Fa(n,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(r,n,a)}register(e,r){this._transitionEngine.register(e,r)}destroy(e,r){this._transitionEngine.destroy(e,r)}onInsert(e,r,t,n){this._transitionEngine.insertNode(e,r,t,n)}onRemove(e,r,t){this._transitionEngine.removeNode(e,r,t)}disableAnimations(e,r){this._transitionEngine.markElementAsDisabled(e,r)}process(e,r,t,n){if(t.charAt(0)=="@"){let[o,s]=fo(t),a=n;this._timelineEngine.command(o,r,s,a)}else this._transitionEngine.trigger(e,r,t,n)}listen(e,r,t,n,o){if(t.charAt(0)=="@"){let[s,a]=fo(t);return this._timelineEngine.listen(s,r,a,o)}return this._transitionEngine.listen(e,r,t,n,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Xa(i,e){let r=null,t=null;return Array.isArray(e)&&e.length?(r=Mr(e[0]),e.length>1&&(t=Mr(e[e.length-1]))):e instanceof Map&&(r=Mr(e)),r||t?new qr(i,r,t):null}var Ze=class Ze{constructor(e,r,t){this._element=e,this._startStyles=r,this._endStyles=t,this._state=0;let n=Ze.initialStylesByElement.get(e);n||Ze.initialStylesByElement.set(e,n=new Map),this._initialStyles=n}start(){this._state<1&&(this._startStyles&&ge(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ge(this._element,this._initialStyles),this._endStyles&&(ge(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ze.initialStylesByElement.delete(this._element),this._startStyles&&(Be(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Be(this._element,this._endStyles),this._endStyles=null),ge(this._element,this._initialStyles),this._state=3)}};Ze.initialStylesByElement=new WeakMap;var qr=Ze;function Mr(i){let e=null;return i.forEach((r,t)=>{Ja(t)&&(e=e||new Map,e.set(t,r))}),e}function Ja(i){return i==="display"||i==="position"}var ir=class{constructor(e,r,t,n){this.element=e,this.keyframes=r,this.options=t,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=t.duration,this._delay=t.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let r=()=>this._onFinish();this.domPlayer.addEventListener("finish",r),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",r)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let r=[];return e.forEach(t=>{r.push(Object.fromEntries(t))}),r}_triggerWebAnimation(e,r,t){return e.animate(this._convertKeyframesToObject(r),t)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((t,n)=>{n!=="offset"&&e.set(n,this._finished?t:ti(this.element,n))}),this.currentSnapshot=e}triggerCallback(e){let r=e==="start"?this._onStartFns:this._onDoneFns;r.forEach(t=>t()),r.length=0}},nr=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,r){return!1}containsElement(e,r){return Po(e,r)}getParentElement(e){return Xr(e)}query(e,r,t){return Lo(e,r,t)}computeStyle(e,r,t){return ti(e,r)}animate(e,r,t,n,o,s=[]){let a=n==0?"both":"forwards",l={duration:t,delay:n,fill:a};o&&(l.easing=o);let c=new Map,u=s.filter(m=>m instanceof ir);ba(t,n)&&u.forEach(m=>{m.currentSnapshot.forEach((f,g)=>c.set(g,f))});let h=ga(r).map(m=>new Map(m));h=Sa(e,h,c);let p=Xa(e,h);return new ir(e,h,l,p)}};var $t="@",Uo="@.disabled",or=class{constructor(e,r,t,n){this.namespaceId=e,this.delegate=r,this.engine=t,this._onDestroy=n,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,r){return this.delegate.createElement(e,r)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,r){this.delegate.appendChild(e,r),this.engine.onInsert(this.namespaceId,r,e,!1)}insertBefore(e,r,t,n=!0){this.delegate.insertBefore(e,r,t),this.engine.onInsert(this.namespaceId,r,e,n)}removeChild(e,r,t){this.engine.onRemove(this.namespaceId,r,this.delegate)}selectRootElement(e,r){return this.delegate.selectRootElement(e,r)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,r,t,n){this.delegate.setAttribute(e,r,t,n)}removeAttribute(e,r,t){this.delegate.removeAttribute(e,r,t)}addClass(e,r){this.delegate.addClass(e,r)}removeClass(e,r){this.delegate.removeClass(e,r)}setStyle(e,r,t,n){this.delegate.setStyle(e,r,t,n)}removeStyle(e,r,t){this.delegate.removeStyle(e,r,t)}setProperty(e,r,t){r.charAt(0)==$t&&r==Uo?this.disableAnimations(e,!!t):this.delegate.setProperty(e,r,t)}setValue(e,r){this.delegate.setValue(e,r)}listen(e,r,t){return this.delegate.listen(e,r,t)}disableAnimations(e,r){this.engine.disableAnimations(e,r)}},$r=class extends or{constructor(e,r,t,n,o){super(r,t,n,o),this.factory=e,this.namespaceId=r}setProperty(e,r,t){r.charAt(0)==$t?r.charAt(1)=="."&&r==Uo?(t=t===void 0?!0:!!t,this.disableAnimations(e,t)):this.engine.process(this.namespaceId,e,r.slice(1),t):this.delegate.setProperty(e,r,t)}listen(e,r,t){if(r.charAt(0)==$t){let n=el(e),o=r.slice(1),s="";return o.charAt(0)!=$t&&([o,s]=tl(o)),this.engine.listen(this.namespaceId,n,o,s,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,t,a)})}return this.delegate.listen(e,r,t)}};function el(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function tl(i){let e=i.indexOf("."),r=i.substring(0,e),t=i.slice(e+1);return[r,t]}var sr=class{constructor(e,r,t){this.delegate=e,this.engine=r,this._zone=t,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(n,o)=>{let s=o?.parentNode(n);s&&o.removeChild(s,n)}}createRenderer(e,r){let t="",n=this.delegate.createRenderer(e,r);if(!e||!r?.data?.animation){let c=this._rendererCache,u=c.get(n);if(!u){let h=()=>c.delete(n);u=new or(t,n,this.engine,h),c.set(n,u)}return u}let o=r.id,s=r.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(o,s,e,c.name,c)};return r.data.animation.forEach(a),new $r(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,t){if(e>=0&&e<this._microtaskId){this._zone.run(()=>r(t));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),n.push([r,t])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var il=(()=>{let e=class e extends Xe{constructor(t,n,o){super(t,n,o,d(Ni,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(n){return new(n||e)(v(Et),v(De),v(Fe))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let i=e;return i})();function nl(){return new Xt}function ol(i,e,r){return new sr(i,e,r)}var Vo=[{provide:Fe,useFactory:nl},{provide:Xe,useClass:il},{provide:Oi,useFactory:ol,deps:[Ki,Xe,bt]}],sl=[{provide:De,useFactory:()=>new nr},{provide:gr,useValue:"BrowserAnimations"},...Vo],Gh=[{provide:De,useClass:Jr},{provide:gr,useValue:"NoopAnimations"},...Vo];function Ho(){return Ii("NgEagerAnimations"),[...sl]}var al={possibleTypes:{AddBookingResponse:["AddBookingFailure","AddBookingSuccess"],AdvancePassengerInformationResponse:["AdvancePassengerInformationResponseApiError","AdvancePassengerInformationResponseSuccess"],AncillaryMilesProduct:["BaggageProductCOO","ConciergerieProductCOO","ConnectivityProductCOO","DiscountPassProductCOO","EnvironmentalProductCOO","FlexibilityProductCOO","InsuranceProductCOO","LoungeProductCOO","LoungeRelatedProductCOO","MealProductCOO","SeatProductCOO","SpecialServiceCOO","TimeToThinkProductCOO","TravelAssistanceProductCOO"],AvailableOffer:["AvailableOfferResponse","DataSourceError"],BWHPPromotionType:["BWHPDynamicPriceOffer","BWHPInformationOffer","BWHPManualPriceOffer"],BWHPSlideshowOfferTypes:["BWHPSlideshowDynamicPriceOffer","BWHPSlideshowInformationOffer","BWHPSlideshowPriceOffer"],BaggageAllowanceProduct:["BaggageAllowanceExtraProduct","BaggageAllowanceSpecialProduct","BaggageAllowanceStandardProduct"],BaggageAllowanceProductsGroup:["BaggageAllowanceSpecialProductsGroup"],BoughtMealInterfaceANO:["BoughtMealANO"],BoughtProductANO:["GenericBoughtProductANO","SpecialBaggageBoughtProductANO"],BoughtProductInterfaceANO:["GenericBoughtProductANO","SpecialBaggageBoughtProductANO"],BrandedFaresOffer:["BrandedFaresResponse","DataSourceError"],BreadCrumbContent:["BreadCrumbList","NavLinksData"],BroadSubscribeResponseCUO:["BroadSubscribeExceptionCUO","BroadSubscribeSuccessCUO"],BundledProductSpecificationsInterfaceANO:["BundledGenericProductSpecificationsANO","BundledLoungeProductSpecificationsANO","BundledLuggageProductSpecificationsANO","BundledSeatProductSpecificationsANO"],CIOCheckInDocumentsResult:["CIOCheckInGroupIdProblem","CheckInDocumentsCIO"],CIOCheckInLogonResult:["CIOCheckInLogonSuccess","CIOCheckInNotPossibleProblem","CIOInvalidParamsProblem","CIOLargeGroupProblem","CIOThirdPartyAirlineProblem"],CIOCheckTransferPassengerStatusResult:["CIOCheckInNotPossibleProblem","CIOThirdPartyAirlineProblem","CIOTransferPassengerStatus","CheckinInformationCIO"],CIOCheckinInformationResult:["CIOCheckInGroupIdProblem","CIOCheckInNotPossibleProblem","CIOInvalidParamsProblem","CIOLargeGroupProblem","CIOThirdPartyAirlineProblem","CheckinInformationCIO","ThirdPartyTrainInformationCIO"],CIOCheckinSavePassengerResult:["CIOCheckInGroupIdProblem","CIOCheckInNotPossibleProblem","CheckinInformationCIO"],CIOTransferPassengerResult:["CIOCheckInGroupIdProblem","CIOTransferPassengerStatus"],Contact:["ContactEmail","ContactPhone","ContactPostalAddress","ContactSelfService","ContactSocial","ContactTicketOffices","ContactWebChat"],ContactTopic:["ContactMainTopic","ContactSubTopic"],ContentSearch:["DataSourceError","SearchData"],ContentSuggestion:["DataSourceError","SuggestionData"],ConversationsWebhookButton:["ConversationsWebhookRichButton","ConversationsWebhookSimpleButton"],ConversationsWebhookButtonInterface:["ConversationsWebhookRichButton","ConversationsWebhookSimpleButton"],ConversationsWebhookInterface:["ConversationsWebhookChatHistoryResponse","ConversationsWebhookEndResponse","ConversationsWebhookGeneralResponse"],ConversationsWebhookMessage:["ConversationsWebhookButtonMessage","ConversationsWebhookGeneralMessage","ConversationsWebhookQuickReplyMessage"],ConversationsWebhookMessageHistory:["ConversationsWebhookRichMessageHistory","ConversationsWebhookSimpleMessageHistory"],ConversationsWebhookMessageHistoryInterface:[],ConversationsWebhookMessageInterface:["ConversationsWebhookButtonMessage","ConversationsWebhookGeneralMessage","ConversationsWebhookQuickReplyMessage"],ConversationsWebhookResponse:["ConversationsWebhookChatHistoryResponse","ConversationsWebhookEndResponse","ConversationsWebhookGeneralResponse"],CrsBannerData:["DisruptionBannerContent","ErmBannerContent","OperationalBannerContent","ReassuranceBannerContent"],DealsCreatePromoAlertOutput:["DealsCreatePromoAlertError","DealsCreatePromoAlertSuccess"],DealsSpecificLabelSection:["CardSection","PosterSection","TitleSection"],DiscountPassBlockANO:["AddressANO","BaseDiscountPassBlockANO","CardANO","ContactANO","DiscountANO","OfferANO","PersonalDetailsANO"],DiscountPassCartProductResponseANO:["AncillariesANO","CartProductExceptionANO"],EntertainmentItem:["EntertainmentGame","EntertainmentKids","EntertainmentMovie","EntertainmentMusic","EntertainmentTvShow"],EnumeratedOrderedProduct:["BabyBassinetEnumeratedOrderedProduct","BaggageEnumeratedOrderedProduct","BaggageProductEnumeratedOrderedProduct","ConnectivityEnumeratedOrderedProduct","DefaultEnumeratedOrderedProduct","EnvironmentalProductEnumeratedOrderedProduct","LoungeEnumeratedOrderedProduct","MealEnumeratedOrderedProduct","PetsEnumeratedOrderedProduct","SeatEnumeratedOrderedProduct","SpecialBaggageEnumeratedOrderedProduct","SportsEquipmentEnumeratedOrderedProduct"],FlyingBlueEnrolmentResult:["FlyingBlueEnrolmentErrorResponse","FlyingBlueEnrolmentResponse"],FlyingBlueFamilyMutationResponse:["FlyingBlueFamilyApiErrorResponse","FlyingBlueFamilyInformation"],FlyingBlueFamilyResponse:["FlyingBlueFamily","FlyingBlueFamilyNotEligible","FlyingBlueFamilyNotRecognized"],FormFieldInterfaceANO:["FormFieldANO","FormFieldContractReferenceANO","FormFieldOfferANO"],HealthDeclarationResponse:["HealthDeclarationCIO","HealthDeclarationKlCIO"],InspireAmenitiesV2:["DataSourceError","InspireAmenitiesResponse"],InspireDestinationsContent:["DataSourceError","InspireDestinationsContentResponse"],InspireRichContents:["DataSourceError","InspireRichContentsResponse"],MailMySearchResponse:["APIWarnings","MailMySearch"],MealOfferInterfaceANO:["ALaCarteMealOfferANO","BusinessClassMealOfferANO","SpecialMealOfferANO"],NavigationContentData:["NavLinksData","NavigationContent"],NodeId:["BrandedFare","BrandedFaresResponse","Connection","CorporateContract","Customer","FlightOfferRowType","OrderV2","PassengerReservation","PassengersDocuments","Payment","PaymentOptionsV2","ProductListCOO","Segment","SpinGetContextResponse","TravelArrangerGroup","TravelArrangerUser","Trip"],OfferConnectionWarning:["OfferDifferentEquipmentWarning","OfferStationChangeWarning","OfferStopoverWarning"],OfferFlightDetails:["DataSourceError","OfferFlightDetailsResponse"],OfferInterfaceANO:["BundledAncillariesOfferANO","OfferAncillariesANO","OfferDefaultANO","OfferThirdPartyAncillariesANO"],OfferLocationSpecificRemarks:["DataSourceError","OfferLocationSpecificRemarksResponse"],OfferShoppingCart:["DataSourceError","OfferShoppingCartResponse"],OfferTimeToThink:["DataSourceError","OfferTimeToThinkResponse"],PnrFlightListResponse:["APIWarnings","PnrList"],PriceInterfaceANO:["BasePriceANO","CurrentPriceANO","DisplayPriceANO","MilesPriceANO","PriceANO","StrikeThroughPriceANO"],ProductInterfaceANO:["BaggageCartProductANO","ConciergerieCartProductANO","DiscountPassCartProductANO","EnvironmentalCartProductANO","FlexibilityCartProductANO","InsurancePolicyANO","LoungeCartProductANO","MealsCartProductANO","NbaProductANO","SaphirANO","SeatCartProductANO","SpecialBaggageCartProductANO","SpecialServiceRequestANO","TravelAssistanceCartProductANO","WifiCartProductANO"],RefundConfirmationResult:["RefundConfirmation","RefundConfirmationFailed"],RefundDocumentEligibilityResponse:["RefundDocumentEligibility","RefundDocumentEligibilityException"],RefundEligibilityResponse:["RefundEligibilityApiError","RefundEligibilityDetails"],RefundEmdVoucherInterface:["RefundEmdVoucherActionRequired","RefundEmdVoucherAutomatic"],RefundGuidedBankDetailsResponse:["RefundGuidedBankDetails","RefundGuidedBankDetailsException"],RefundGuidedConfirmationResult:["RefundGuidedConfirmation","RefundGuidedConfirmationFailed"],RefundGuidedEligibilityResponse:["RefundGuidedEligibility","RefundGuidedEligibilityException"],RefundResponse:["RefundApiException","RefundResult","RefundResultV2","RefundStatusApiExpection"],RefundTcvtConfirmationResult:["RefundConfirmationFailed","RefundTcvtConfirmation"],RefundTcvtEligibilityResponse:["RefundTcvtEligibility","RefundTcvtEligibilityException"],ReservationResult:["ArchivedReservation","Reservation","ReservationApiException"],ReservationUpcomingFlightsResponse:["ReservationUpcomingFlights","ReservationUpcomingFlightsApiError","ReservationUpcomingFlightsException"],SaveScannedDocumentResponseCIO:["CheckinInformationCIO","SaveScannedDocumentResponseFailureCIO"],ScanDocumentResponse:["ScanDocumentResponseFailure","ScanDocumentResponseSuccess"],ScanStateResponse:["ScanStateErrorOutput","ScanStateOutput"],SearchContextItineraryResponse:["APIWarnings","SearchContextItinerary"],SearchContextPassengersResponse:["APIWarnings","SearchContextPassengers"],SeatMapLayoutItem:["SeatMapLayoutNonSeatItem","SeatMapLayoutSeatItem"],SeatMapLayoutItemType:["SeatMapLayoutNonSeatItem","SeatMapLayoutSeatItem"],SeatMapLegendContent:["BaseSeatMapLegendContent","CommercialSeatMapLegendContent"],SeatMapOffer:["CommercialSeatMapOffer","OperationalSeatMapOffer"],SeatMapResponse:["DataSourceError","SeatMap"],SpecialBaggageFormGroupANO:["SpecialBaggageFormGroupAliveAnimalInHoldANO","SpecialBaggageFormGroupBikeANO","SpecialBaggageFormGroupPetInCabinANO"],SpecialBaggagePropertyANO:["SpecialBaggageExchangeANO","SpecialBaggageMetricANO","SpecialBaggageProductTypeANO"],SubscribeForSalesPublicationAirlineResponseCUO:["SubscribeForSalesPublicationAirlineExceptionCUO","SubscribeForSalesPublicationAirlineSuccessCUO"],SubscriptionUnsubscribeResponseCUO:["SubscriptionUnsubscribeResponseSuccessCUO"],TGDestinationRecommenderResponse:["TGDestinationRecommender","TGDestinationRecommenderError"],UpdateContactTracingResponseCIO:["CIOThirdPartyAirlineProblem","CheckinInformationCIO","UpdateContactTracingResponseFailureCIO"],UpgradeOffer:["DataSourceError","UpgradeOfferResponse"],UpgradeOfferTicketConditions:["DataSourceError","TicketConditionsCOO"],ValidatorANO:["MaxLengthValidatorANO","MaxValidatorANO","MinLengthValidatorANO","MinValidatorANO","PatternValidatorANO","RequiredValidatorANO"],specialBaggagePropertyInterface:["SpecialBaggageExchangeANO","SpecialBaggageMetricANO","SpecialBaggageProductTypeANO"]}},jo=al;_r();He();Oe();Le();function ar(i){return new j(function(e,r){var t=vi(e,[]);return new X(function(n){var o,s=!1;return Promise.resolve(t).then(function(a){return i(a,e.getContext())}).then(e.setContext).then(function(){s||(o=r(e).subscribe({next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)}))}).catch(n.error.bind(n)),function(){s=!0,o&&o.unsubscribe()}})})}He();Le();Oe();function ni(i){return new j(function(e,r){return new X(function(t){var n,o,s;try{n=r(e).subscribe({next:function(a){if(a.errors&&(s=i({graphQLErrors:a.errors,response:a,operation:e,forward:r}),s)){o=s.subscribe({next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return}t.next(a)},error:function(a){if(s=i({operation:e,networkError:a,graphQLErrors:a&&a.result&&a.result.errors||void 0,forward:r}),s){o=s.subscribe({next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return}t.error(a)},complete:function(){s||t.complete.bind(t)()}})}catch(a){i({networkError:a,operation:e,forward:r}),t.error(a)}return function(){n&&n.unsubscribe(),o&&n.unsubscribe()}})})}var Jh=function(i){Ue(e,i);function e(r){var t=i.call(this)||this;return t.link=ni(r),t}return e.prototype.request=function(r,t){return this.link.request(r,t)},e}(j);He();Oe();Le();function Go(i){var e=i||{},r=e.initial,t=r===void 0?300:r,n=e.jitter,o=n===void 0?!0:n,s=e.max,a=s===void 0?1/0:s,l=o?t:t/2;return function(u){var h=Math.min(a,l*Math.pow(2,u));return o&&(h=Math.random()*h),h}}function Qo(i){var e=i||{},r=e.retryIf,t=e.max,n=t===void 0?5:t;return function(s,a,l){return s>=n?!1:r?r(l,a):!!l}}var ll=function(){function i(e,r,t,n,o){var s=this;this.observer=e,this.operation=r,this.forward=t,this.delayFor=n,this.retryIf=o,this.retryCount=0,this.currentSubscription=null,this.onError=function(a){return yi(s,void 0,void 0,function(){var l;return bi(this,function(c){switch(c.label){case 0:return this.retryCount+=1,[4,this.retryIf(this.retryCount,this.operation,a)];case 1:return l=c.sent(),l?(this.scheduleRetry(this.delayFor(this.retryCount,this.operation,a)),[2]):(this.observer.error(a),[2])}})})},this.try()}return i.prototype.cancel=function(){this.currentSubscription&&this.currentSubscription.unsubscribe(),clearTimeout(this.timerId),this.timerId=void 0,this.currentSubscription=null},i.prototype.try=function(){this.currentSubscription=this.forward(this.operation).subscribe({next:this.observer.next.bind(this.observer),error:this.onError,complete:this.observer.complete.bind(this.observer)})},i.prototype.scheduleRetry=function(e){var r=this;if(this.timerId)throw new Error("RetryLink BUG! Encountered overlapping retries");this.timerId=setTimeout(function(){r.timerId=void 0,r.try()},e)},i}(),Ko=function(i){Ue(e,i);function e(r){var t=i.call(this)||this,n=r||{},o=n.attempts,s=n.delay;return t.delayFor=typeof s=="function"?s:Go(s),t.retryIf=typeof o=="function"?o:Qo(o),t}return e.prototype.request=function(r,t){var n=this;return new X(function(o){var s=new ll(o,r,t,n.delayFor,n.retryIf);return function(){s.cancel()}})},e}(j);var is=pi(zo(),1);Tn();_r();He();Oe();He();Le();var qo=function(){function i(e){var r=e.batchDebounce,t=e.batchInterval,n=e.batchMax,o=e.batchHandler,s=e.batchKey;this.batchesByKey=new Map,this.scheduledBatchTimerByKey=new Map,this.batchDebounce=r,this.batchInterval=t,this.batchMax=n||0,this.batchHandler=o,this.batchKey=s||function(){return""}}return i.prototype.enqueueRequest=function(e){var r=this,t=Ve(Ve({},e),{next:[],error:[],complete:[],subscribers:new Set}),n=this.batchKey(e.operation);return t.observable||(t.observable=new X(function(o){var s=r.batchesByKey.get(n);s||r.batchesByKey.set(n,s=new Set);var a=s.size===0,l=t.subscribers.size===0;return t.subscribers.add(o),l&&s.add(t),o.next&&t.next.push(o.next.bind(o)),o.error&&t.error.push(o.error.bind(o)),o.complete&&t.complete.push(o.complete.bind(o)),(a||r.batchDebounce)&&r.scheduleQueueConsumption(n),s.size===r.batchMax&&r.consumeQueue(n),function(){var c;t.subscribers.delete(o)&&t.subscribers.size<1&&s.delete(t)&&s.size<1&&(r.consumeQueue(n),(c=s.subscription)===null||c===void 0||c.unsubscribe())}})),t.observable},i.prototype.consumeQueue=function(e){e===void 0&&(e="");var r=this.batchesByKey.get(e);if(this.batchesByKey.delete(e),!(!r||!r.size)){var t=[],n=[],o=[],s=[],a=[],l=[];r.forEach(function(h){t.push(h.operation),n.push(h.forward),o.push(h.observable),s.push(h.next),a.push(h.error),l.push(h.complete)});var c=this.batchHandler(t,n)||X.of(),u=function(h){a.forEach(function(p){p&&p.forEach(function(m){return m(h)})})};return r.subscription=c.subscribe({next:function(h){if(Array.isArray(h)||(h=[h]),s.length!==h.length){var p=new Error("server returned results with length ".concat(h.length,", expected length of ").concat(s.length));return p.result=h,u(p)}h.forEach(function(m,f){s[f]&&s[f].forEach(function(g){return g(m)})})},error:u,complete:function(){l.forEach(function(h){h&&h.forEach(function(p){return p()})})}}),o}},i.prototype.scheduleQueueConsumption=function(e){var r=this;clearTimeout(this.scheduledBatchTimerByKey.get(e)),this.scheduledBatchTimerByKey.set(e,setTimeout(function(){r.consumeQueue(e),r.scheduledBatchTimerByKey.delete(e)},this.batchInterval))},i}();var $o=function(i){Ue(e,i);function e(r){var t=i.call(this)||this,n=r||{},o=n.batchDebounce,s=n.batchInterval,a=s===void 0?10:s,l=n.batchMax,c=l===void 0?0:l,u=n.batchHandler,h=u===void 0?function(){return null}:u,p=n.batchKey,m=p===void 0?function(){return""}:p;return t.batcher=new qo({batchDebounce:o,batchInterval:a,batchMax:c,batchHandler:h,batchKey:m}),r.batchHandler.length<=1&&(t.request=function(f){return t.batcher.enqueueRequest({operation:f})}),t}return e.prototype.request=function(r,t){return this.batcher.enqueueRequest({operation:r,forward:t})},e}(j);var Yo=(i,e,r)=>{let t=["POST","PUT","PATCH"].indexOf(i.method.toUpperCase())!==-1,n=c=>["variables","extensions"].indexOf(c.toLowerCase())!==-1,o=i.body.length,s=i.options&&i.options.useMultipart,a;if(s){if(o)return new et(c=>c.error(new Error("File upload is not available when combined with Batching")));if(!t)return new et(c=>c.error(new Error("File upload is not available when GET is used")));if(!r)return new et(c=>c.error(new Error(`To use File upload you need to pass "extractFiles" function from "extract-files" library to HttpLink's options`)));a=r(i.body),s=!!a.files.size}let l={};if(o){if(!t)return new et(c=>c.error(new Error("Batching is not available for GET requests")));l={body:i.body}}else{let c=s?a.clone:i.body;t?l={body:c}:l={params:Object.keys(i.body).reduce((h,p)=>{let m=i.body[p];return h[p]=n(p)?JSON.stringify(m):m,h},{})}}if(s&&t){let c=new FormData;c.append("operations",JSON.stringify(l.body));let u={},h=a.files,p=0;h.forEach(m=>{u[++p]=m}),c.append("map",JSON.stringify(u)),p=0,h.forEach((m,f)=>{c.append(++p+"",f,f.name)}),l.body=c}return e.request(i.method,i.url,C(C({observe:"response",responseType:"json",reportProgress:!1},l),i.options))},Zo=(i,e)=>i&&e?e.keys().reduce((t,n)=>t.set(n,e.getAll(n)),i):e||i;function xe(...i){let e=i.find(r=>typeof r<"u");return typeof e>"u"?i[i.length-1]:e}function Xo(i){let e=i.headers&&i.headers instanceof rt?i.headers:new rt(i.headers);if(i.clientAwareness){let{name:r,version:t}=i.clientAwareness;r&&!e.has("apollographql-client-name")&&(e=e.set("apollographql-client-name",r)),t&&!e.has("apollographql-client-version")&&(e=e.set("apollographql-client-version",t))}return e}var si=class extends j{httpClient;options;requester;print=Er;constructor(e,r){super(),this.httpClient=e,this.options=r,this.options.operationPrinter&&(this.print=this.options.operationPrinter),this.requester=t=>new X(n=>{let o=t.getContext(),s=(R,F)=>xe(o[R],this.options[R],F),a=s("method","POST"),l=s("includeQuery",!0),c=s("includeExtensions",!1),u=s("uri","graphql"),h=s("withCredentials"),p=s("useMultipart"),m=this.options.useGETForQueries===!0,f=t.query.definitions.some(R=>R.kind==="OperationDefinition"&&R.operation==="query");m&&f&&(a="GET");let g={method:a,url:typeof u=="function"?u(t):u,body:{operationName:t.operationName,variables:t.variables},options:{withCredentials:h,useMultipart:p,headers:this.options.headers}};c&&(g.body.extensions=t.extensions),l&&(g.body.query=this.print(t.query));let A=Xo(o);g.options.headers=Zo(g.options.headers,A);let w=Yo(g,this.httpClient,this.options.extractFiles).subscribe({next:R=>{t.setContext({response:R}),n.next(R.body)},error:R=>n.error(R),complete:()=>n.complete()});return()=>{w.closed||w.unsubscribe()}})}request(e){return this.requester(e)}},Jo=(()=>{class i{httpClient;constructor(r){this.httpClient=r}create(r){return new si(this.httpClient,r)}static \u0275fac=function(t){return new(t||i)(v(vr))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),lr={batchInterval:10,batchMax:10,uri:"graphql",method:"POST"},ai=class extends j{httpClient;options;batcher;batchInterval;batchMax;print=Er;constructor(e,r){super(),this.httpClient=e,this.options=r,this.batchInterval=r.batchInterval||lr.batchInterval,this.batchMax=r.batchMax||lr.batchMax,this.options.operationPrinter&&(this.print=this.options.operationPrinter);let t=o=>new X(s=>{let a=this.createBody(o),l=this.createHeaders(o),{method:c,uri:u,withCredentials:h}=this.createOptions(o);if(typeof u=="function")throw new Error("Option 'uri' is a function, should be a string");let m=Yo({method:c,url:u,body:a,options:{withCredentials:h,headers:l}},this.httpClient,()=>{throw new Error("File upload is not available when combined with Batching")}).subscribe({next:f=>s.next(f.body),error:f=>s.error(f),complete:()=>s.complete()});return()=>{m.closed||m.unsubscribe()}}),n=r.batchKey||(o=>this.createBatchKey(o));this.batcher=new $o({batchInterval:this.batchInterval,batchMax:this.batchMax,batchKey:n,batchHandler:t})}createOptions(e){let r=e[0].getContext();return{method:xe(r.method,this.options.method,lr.method),uri:xe(r.uri,this.options.uri,lr.uri),withCredentials:xe(r.withCredentials,this.options.withCredentials)}}createBody(e){return e.map(r=>{let t=xe(r.getContext().includeExtensions,this.options.includeExtensions,!1),n=xe(r.getContext().includeQuery,this.options.includeQuery,!0),o={operationName:r.operationName,variables:r.variables};return t&&(o.extensions=r.extensions),n&&(o.query=this.print(r.query)),o})}createHeaders(e){return e.reduce((r,t)=>Zo(r,t.getContext().headers),Xo({headers:this.options.headers,clientAwareness:e[0]?.getContext()?.clientAwareness}))}createBatchKey(e){let r=e.getContext();if(r.skipBatching)return Math.random().toString(36).substr(2,9);let t=r.headers&&r.headers.keys().map(o=>r.headers.get(o)),n=JSON.stringify({includeQuery:r.includeQuery,includeExtensions:r.includeExtensions,headers:t});return xe(r.uri,this.options.uri)+n}request(e){return this.batcher.request(e)}},es=(()=>{class i{httpClient;constructor(r){this.httpClient=r}create(r){return new ai(this.httpClient,r)}static \u0275fac=function(t){return new(t||i)(v(vr))};static \u0275prov=M({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();Oe();He();fs();Le();Oe();Le();Le();var pl=1;function gl(i){var e=Object.create(null),r=Object.create(null);return nt(i)&&i.forEach(function(t){var n;e[t.message]=t,typeof((n=t.extensions)===null||n===void 0?void 0:n.code)=="string"&&(r[t.extensions.code]=t)}),{persistedQueryNotSupported:!!(e.PersistedQueryNotSupported||r.PERSISTED_QUERY_NOT_SUPPORTED),persistedQueryNotFound:!!(e.PersistedQueryNotFound||r.PERSISTED_QUERY_NOT_FOUND)}}var vl={disable:function(i){var e=i.meta;return e.persistedQueryNotSupported},retry:function(i){var e=i.meta;return e.persistedQueryNotSupported||e.persistedQueryNotFound},useGETForHashedQueries:!1};function yl(i){return i.query.definitions.some(function(e){return e.kind==="OperationDefinition"&&e.operation==="mutation"})}var ts=function(i){var e;function r(){e=void 0}Sr(i&&(typeof i.sha256=="function"||typeof i.generateHash=="function"),40);var t=Ln(vl,i),n=t.sha256,o=t.generateHash,s=o===void 0?function(m){return Promise.resolve(n(Pn(m)))}:o,a=t.disable,l=t.retry,c=t.useGETForHashedQueries,u=!0,h=function(m){return new Promise(function(f){return f(s(m))})};function p(m){if(!m||typeof m!="object")return h(m);e||(e=new wn(Rn["PersistedQueryLink.persistedQueryHashes"]||2e3));var f=e.get(m);return f||e.set(m,f=h(m)),f}return Object.assign(new j(function(m,f){Sr(f,41);var g=m.query;return new X(function(A){var w,R=!1,F,x=!1,se=function(I,V){var Q=I.response,N=I.networkError;if(!R&&(Q&&Q.errors||N)){R=!0;var le=[],ce=Q&&Q.errors;nt(ce)&&le.push.apply(le,ce);var Ce=void 0;typeof N?.result!="string"&&(Ce=N&&N.result&&N.result.errors),nt(Ce)&&le.push.apply(le,Ce);var Je={response:Q,networkError:N,operation:m,graphQLErrors:nt(le)?le:void 0,meta:gl(le)};if(u=!a(Je),u||r(),l(Je)){w&&w.unsubscribe(),m.setContext({http:{includeQuery:!0,includeExtensions:u},fetchOptions:{method:"POST"}}),x&&m.setContext({fetchOptions:F}),w=f(m).subscribe($);return}}V()},$={next:function(I){se({response:I},function(){return A.next(I)})},error:function(I){se({networkError:I},function(){return A.error(I)})},complete:A.complete.bind(A)};return m.setContext({http:{includeQuery:!u,includeExtensions:u}}),c&&u&&!yl(m)&&(m.setContext(function(I){var V=I.fetchOptions,Q=V===void 0?{}:V;return F=Q,{fetchOptions:Ve(Ve({},Q),{method:"GET"})}}),x=!0),u?p(g).then(function(I){m.extensions.persistedQuery={version:pl,sha256Hash:I},w=f(m).subscribe($)}).catch(A.error.bind(A)):w=f(m).subscribe($),function(){w&&w.unsubscribe()}})}),{resetHashCache:r},globalThis.__DEV__!==!1?{getMemoryInternals:function(){var m;return{PersistedQueryLink:{persistedQueryHashes:(m=e?.size)!==null&&m!==void 0?m:0}}}}:{})};var bl=ar((i,e)=>{let r={};return e.http&&(r.includeQuery=e.http.includeQuery,r.includeExtensions=e.http.includeExtensions),e.fetchOptions&&e.fetchOptions.method&&(r.method=e.fetchOptions.method),r}),cr=i=>j.from([ts(i),bl]);function li(i){if(typeof i!="object"||i===null)return!1;let e=Object.getPrototypeOf(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)}function ci(i,e,r=""){if(!arguments.length)throw new TypeError("Argument 1 `value` is required.");if(typeof e!="function")throw new TypeError("Argument 2 `isExtractable` must be a function.");if(typeof r!="string")throw new TypeError("Argument 3 `path` must be a string.");let t=new Map,n=new Map;function o(s,a,l){if(e(s)){let h=n.get(s);return h?h.push(a):n.set(s,[a]),null}let c=Array.isArray(s)||typeof FileList<"u"&&s instanceof FileList,u=li(s);if(c||u){let h=t.get(s),p=!h;if(p&&(h=c?[]:s instanceof Object?{}:Object.create(null),t.set(s,h)),!l.has(s)){let m=a?`${a}.`:"",f=new Set(l).add(s);if(c){let g=0;for(let A of s){let w=o(A,m+g++,f);p&&h.push(w)}}else for(let g in s){let A=o(s[g],m+g,f);p&&(h[g]=A)}}return h}return s}return{clone:o(i,r,new Set),files:n}}function ui(i){return typeof File<"u"&&i instanceof File||typeof Blob<"u"&&i instanceof Blob}function ur(i,e){return z(this,null,function*(){try{if(typeof Worker<"u"){let r=new Worker(new URL("worker-P3TCUW2T.js",import.meta.url),{type:"module"});return new Promise((t,n)=>{r.onmessage=({data:l})=>{t(l)},r.onerror=({error:l})=>{n(l)};let o={enabled:!0,strength:2,separator:"-"},s=JSON.stringify(k(C({},i),{timestamp:e})),a=C({challenge:s},o);r.postMessage(a)})}}catch{}})}var rs="/gql/v1",hi=(()=>{let e=class e{constructor(t,n,o,s,a,l,c,u){this.httpLink=t,this.httpBatchLink=n,this.sharedGlobalService=o,this.sharedLoggerService=s,this.sharedBamBeaconService=a,this.route=l,this.injector=c,this.platformId=u,this.bwGlobal=this.sharedGlobalService.getGlobal()}getApolloLinks(){let t=this.getURIWithBaseParameters(),n=(0,is.generatePersistedQueryIdsFromManifest)({loadManifest:()=>import("./chunk-OM2J5XZF.js").then(g=>g.PERSISTED_OPERATIONS_MANIFEST)}),o=this.getHTTPCacheableOperationLink(n),s=this.getHashCashLink(),a=this.getErrorLoggingLink(),l=this.getApolloLink(t),c=this.createApolloRetryLink(),u=this.forcePostLink(),h=this.httpLink.create({uri:t,extractFiles:g=>ci(g,ui)}),p=this.httpBatchLink.create({uri:t,batchMax:5}),m=Ne(g=>H(this.platformId),o),f=Ne(g=>we(this.platformId),cr(n));return[Ne(g=>H(this.platformId),s),l,c,a,f,Ne(g=>!this.bwGlobal.persistedOperationsAllowArbitrary,m),u,Ne(g=>g.getContext().batch===!0&&H(this.platformId),p,h)]}getURIWithBaseParameters(){return we(this.platformId)?this.getSsrEndpoint():rs}getSsrEndpoint(){return this.injector.get(nn).app.get("config").GQL_SSR_ENDPOINT}addBaseParameters(t){let n=t,o={bookingFlow:Cr.LEISURE};try{let a=this.route.snapshot.queryParamMap.get("bookingFlow")||Cr.LEISURE;if(!Hn(a))throw new Error(`bookingFlow parameter ${a} not recognised`);o.bookingFlow=a}catch(a){this.sharedLoggerService.error(this.sharedLoggerService.parseError("GQL error",a))}let s=Object.keys(o).map(a=>o[a]&&`${encodeURIComponent(a)}=${encodeURIComponent(o[a])}`).join("&");return`${n}?${s}`}getApolloLink(t){return new j((n,o)=>{let s=n.getContext(),a=we(this.platformId);if(s.skipDuringSSR&&a)return null;let{domainInfo:l,optimizelyVisitorId:c}=this.bwGlobal,u=new rt,h=C(k(C({},s?.headers??{}),{"Accept-Language":l.locale.crsLocale,language:l.locale.urlPath,country:l.country,"AFKL-Travel-Country":l.country,"AFKL-Travel-Language":l.locale.urlPath.toLowerCase(),"AFKL-TRAVEL-Host":l.brand.toUpperCase(),"X-Aviato-Host":this.sharedGlobalService.getHost(),"x-client-revision":this.bwGlobal.revision}),c&&{"AFKL-Travel-ExperimentationIds":JSON.stringify({deviceId:c})});return Object.entries(h).forEach(([p,m])=>{u=u.set(p,m)}),n.setContext({headers:u,credentials:"same-origin",uri:this.addBaseParameters(t)}),we(this.platformId)?o(n).map(p=>{let m=k(C({},p),{data:null}),f=p;return p.extensions?.aviatoCacheControl?.hasPrivateData?m:f}):o(n)})}getHTTPCacheableOperationLink(t){let n="httpCacheableOperation",o=new j((s,a)=>{let{domainInfo:l}=this.bwGlobal,c=l.locale.urlPath,u=l.country;return s.setContext({uri:`${this.addBaseParameters(rs)}&country=${u}&language=${c}`}),a(s)});return Ne(s=>H(this.platformId)&&!!s.getContext()[n],It([cr(k(C({},t),{useGETForHashedQueries:!0})),o]),cr(t))}forcePostLink(){return new j((t,n)=>{let o=t.getContext();return o.httpCacheableOperation&&o.includeQuery&&o.includeExtensions&&t.setContext({method:"POST"}),n(t)})}getHashCashLink(){return ar((s,a)=>z(this,[s,a],function*(t,{headers:n,hashcash:o}){if(o&&H(this.platformId)){let l=yield ur(this.sortHashcashInput(o),this.bwGlobal.timestamp);return ur(this.sortHashcashInput(o),this.bwGlobal.timestamp).then(c=>({headers:k(C({},n),{Accept:`application/json;charset=utf-8;hashcash=${c.ret}`})}))}}))}getErrorLoggingLink(){return ni(({graphQLErrors:t,networkError:n})=>{if(n){"stack"in n?this.sharedLoggerService.error(this.sharedLoggerService.parseError("GQL networkError",n)):this.sharedLoggerService.error(["GQL networkError",n.statusCode,n.statusText,n.message,this.sharedLoggerService.stringify(n.error),this.sharedLoggerService.stringify(n.bodyText)].filter(Boolean).join(" "));let o=new Error;this.sharedBamBeaconService.stacktrace({bamInfo:{stackTrace:{message:n.message,stack:o.stack}}})}})}createApolloRetryLink(){return new Ko({delay:{initial:1e3,jitter:!0,max:3e4},attempts:(n,o,s)=>{let a=!1;s?.status>=500&&n<=1&&(a=!0);let l={retryCount:n,errorMessage:s?.message,errorName:s?.name,errorStatusCode:s?.status,errorStatusText:s?.statusText};return this.sharedBamBeaconService.send({Activity:"ApolloRetryLink",bamInfo:{operationName:o?.operationName,apolloClient:l}}),a}})}sortHashcashInput(t){return Array.isArray(t)?t.map(n=>this.sortHashcashInput(n)):typeof t=="object"&&t!==null?Object.keys(t).sort().reduce((n,o)=>(n[o]=this.sortHashcashInput(t[o]),n),{}):t}};e.\u0275fac=function(n){return new(n||e)(v(Jo),v(es),v(q),v(Tt),v(Re),v(de),v(yt),v(Z))},e.\u0275prov=M({token:e,factory:e.\u0275fac});let i=e;return i})();var ns=new Ti("apollo-cache"),os="apollo.state",Sl=new Nn({typePolicies:{CartANO:{fields:{products:{merge(i,e){return e}},summary:{merge(i,e){return e}}}}},possibleTypes:jo.possibleTypes,dataIdFromObject:i=>{switch(i.__typename){case"CompanionsList":return i.__typename;case"CommunicationPublicationsCUO":return"CommunicationPublications";default:return i._id||null}},addTypename:!0});function ss(){return je([hi,{provide:ns,useValue:Sl},{provide:On,useFactory:(e,r,t,n)=>{let o=H(n);if(o){let a=r.get(os,null);e.restore(a)}else r.onSerialize(os,()=>e.extract()),e.reset();let s=t.getApolloLinks();return C({link:It(s.filter(a=>!!a)),cache:e},o?{assumeImmutableResults:!0,connectToDevTools:!$e.production,ssrForceFetchDelay:500}:{ssrMode:!0})},deps:[ns,Li,hi,Z]},We])}function as(){let i=[{provide:qn,useFactory:$n,deps:[W]},{provide:yn,useFactory:Qn,deps:[W]},{provide:fn,useFactory:jn,deps:[W]},{provide:vn,useFactory:Kn,deps:[W]},{provide:Wn,useFactory:zn,deps:[W]},{provide:Yn,useClass:Ar},{provide:zi,useClass:Ar}];return je([vt(qi),...i])}function El(i,e,r,t){return Dt(e,r,t),()=>i.init()}function ls(){return je([At,{provide:St,useFactory:El,deps:[wt,W,q,Re],multi:!0},{provide:Ui,useFactory:ln,deps:[q]},{provide:_t,useFactory:Pe},{provide:Hi,useClass:cn},{provide:Ri,deps:[Re,Tt],useClass:an},kt,Ot,kn])}function _l(i,e,r,t){return Dt(e,r,t),()=>i.init()}var cs={providers:[Qe,{provide:Pi,useValue:"server-app"},{provide:St,useFactory:_l,deps:[wt,W,q,Re],multi:!0},vt(Zn,In.forRoot(),mn.withOptions(),Dn,Gn),Gi(Qi()),Ho(),ss(),as(),ls()]};var Cl={providers:[At,{provide:_t,useFactory:Pe},Xi($e.ROUTES,en(),Ji({anchorScrolling:"enabled",scrollPositionRestoration:"enabled"}),tn({onSameUrlNavigation:"reload"}),rn())]},us=Vi(cs,Cl);$e.production&&void 0;z(void 0,null,function*(){let i=Rl();yield fetch(i).then(e=>e.json()).then(e=>window.bwDynamicGlobal=e),Wi(Rr,us).then(e=>{let r=e.injector.get(bt),t=e.injector.get(ne),n=e.injector.get(Z),o=e.injector.get(de),s=(navigator.doNotTrack||window.doNotTrack)!=="1";if(H(n)){s&&Al(e),Tl(r,t,o);let a=document.querySelector("base"),l=Pe();a.setAttribute("href",l+(l.endsWith("/")?"":"/")),t.events.pipe(he(c=>c instanceof Ct)).subscribe(c=>{let u=new CustomEvent("BluewebNavigationEnd");dispatchEvent(u)})}})});function Al(i){let r=i.injector.get(on)?.optimizelyTag||"0";if(r==="0")return;let t=[`https://cdn.optimizely.com/js/${r}.js`];i.isStable.pipe(tt()).subscribe(()=>{t.forEach(o=>{let s=document.createElement("script");s.src=o,document.head.appendChild(s)});let n=new CustomEvent("OptimizelySnippetLoaded");dispatchEvent(n)})}function Tl(i,e,r){i.runOutsideAngular(()=>{let l=["gclid","dclid","gclsrc","WT.mc_id"];r.queryParamMap.pipe(tt(),he(c=>l.some(u=>c.has(u))),gt(()=>Ei(500)),he(()=>s()),Ai(1)).subscribe(()=>{setTimeout(()=>{let c=wl(r.snapshot.queryParamMap,l);i.run(()=>e.navigate([],{queryParams:c}))},300)})});let t="gtm_loaded",n=!1,o;function s(){return o||(o=()=>n=!0,window.addEventListener(t,o)),n=n||!!window.google_tag_manager,n&&window.removeEventListener(t,o),n}}function wl(i,e){return i.keys.filter(r=>!e.includes(r)).reduce((r,t)=>k(C({},r),{[t]:i.get(t)}),{})}function Rl(){let i,e=Pe(),r=Pl();return e==="/"?i="/global":i=`${e}/global`,i+r}function Pl(){let i="",e="country",t=decodeURIComponent(location.href).split("&").find(n=>n.includes(e));return t&&(i=`?${t}`),i}
