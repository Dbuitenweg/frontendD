(function(){var e={hash:"09df860bc686a2c5b2f0d123b30aec5855656405",functions:dimml.functions("09df860bc686a2c5b2f0d123b30aec5855656405"),base:"//baltar-360450.dimml.io",method:"GET"};e.functions.findNewPixels_q4XBOE=function(a){var b=[];"undefined"!==typeof window.qmondeq&&"undefined"!==typeof window.qmon?"undefined"===typeof window.qmon.deq.__pixelListenerRegistration&&(window.qmondeq.push(["listener","aa request",function(c,d){qmon.log("Pushing pixel to PixelStore: "+d.url);window.qmon.analytics.adobe.pixelUrls.push({src:d.url,
usedBy:[]})}]),window.qmon.deq.__pixelListenerRegistration=!0,qmon.deq.create(),b=[].concat(qmon.analytics.adobe.pixels("q4XBOE"))):b=[].concat(l(m()));v(dimml.q4XBOE[a].pixelsArr,b)};var n=e.functions.fGetUniqueId=function(){try{return dimml.sha1(+new Date+Math.random().toString(36).slice(2)+navigator.userAgent).slice(20)}catch(a){k("fGetUniqueId - error: "+a)}},w=e.functions.dotReferenceRemove=function(a){return a.toString().split(".").map(function(b){return'["'+b+'"]'}).join("")},x=e.functions.secondaryValidation_4XBOE=
function(a,b){try{var c=0,d=setInterval(function(){if(25==c||dimml.q4XBOE[a].correct657973df69db2d0001739c85&&dimml.q4XBOE[a].correct606ecdf534315e00019cc644)clearTimeout(d),clearTimeout(dimml.q4XBOE[a].pixelsSearch);var f=p(a,b,!1);0<f.length&&q({websiteId:"5c35edb682b4d91e416fcc3c",pageview:dimml.q4XBOE[a].pageview,events:b,elements:f,firstValidation:!1},function(g){dimml.event("dataSubmit_4XBOE",{data:g,ua:JSON.stringify(navigator.userAgent)},"flow")});c++},500)}catch(f){k("secondaryValidation error: "+
f)}},z=e.functions.permutateAllPixelKeys=function(a,b){return a.map(function(c){return y(c,b)})},B=e.functions.setData_4XBOE=function(a){try{"undefined"==typeof dimml.q4XBOE&&(dimml.q4XBOE=[]),dimml.q4XBOE[a]={},dimml.q4XBOE[a].pageview={},dimml.q4XBOE[a].pageview.browser=A(),dimml.q4XBOE[a].pageview.cookies=document.cookie,dimml.q4XBOE[a].pageview.url=window.location.href,dimml.q4XBOE[a].pageview.urlSimple=window.location.hostname+window.location.pathname,dimml.q4XBOE[a].pageview.referrer=document.referrer,
dimml.q4XBOE[a].pageview.referrerSimple=document.referrer.split("?")[0].replace(/https?:\/\//,""),dimml.q4XBOE[a].correct657973df69db2d0001739c85=!1,dimml.q4XBOE[a].element657973df69db2d0001739c85={},dimml.q4XBOE[a].diagnosticsId657973df69db2d0001739c85=n(),dimml.q4XBOE[a].correct606ecdf534315e00019cc644=!1,dimml.q4XBOE[a].element606ecdf534315e00019cc644={},dimml.q4XBOE[a].diagnosticsId606ecdf534315e00019cc644=n()}catch(b){k("setInitData error: "+b)}},q=e.functions.fCustomStringify=function(a,b){try{var c=
JSON.stringify(a)}catch(f){deprecatedWindowElements=["webkitStorageInfo"];a.elements&&0<a.elements.length&&a.elements.forEach(function(g){g.element&&g.element.defaultView&&deprecatedWindowElements.forEach(function(h){delete g.element.defaultView[h]})});var d=[];c=JSON.stringify(a,function(g,h){if("object"===typeof h&&null!==h){if(-1!==d.indexOf(h))return;d.push(h)}return h});d=null}return"undefined"!==typeof b?b(c):c},k=e.functions.fLog=function(a){try{console.log("[Qmon] "+("string"===typeof a?a:
"undefined"!==typeof a?JSON.stringify(a):""))}catch(b){}},D=e.functions.walkThroughObj=function(a,b){if("undefined"==typeof a||null===a)return null;var c=C(b),d=b.slice(0,b.indexOf("["));a=c?a[d][parseInt(c)]:a[b];return"undefined"!==typeof a?a:null},m=e.functions.getAppMeasurement=function(){try{var a=function(c){var d="function"===typeof c.t;return("undefined"!==typeof c.visitorNamespace||"undefined"!==typeof c.account)&&d},b=[window.s,window.s_c_il].reduce(function(c,d){d&&d.constructor===Array?
(d=d.filter(a),c.push.apply(c,d)):d&&a(d)&&c.push(d);return c},[]);return 0<b.length?b[0]:!1}catch(c){k("getAppMeasurement - error: "+c)}},y=e.functions.permutatePossiblePixelLocations=function(a,b){return b.map(function(c){return c+a})},r=e.functions.getDeep=function(a,b,c){b=String.prototype.split.call(b,/(\w+\[\d\])|(\W)/).filter(Boolean).filter(function(d){return d.match(/^\w+/g)}).reduce(D,a);return null==b||b===a?c:b};e.functions.fHasProperty=function(a,b){try{return"undefined"!=typeof a&&a.hasOwnProperty(b)&&
""!=a[b]}catch(c){k("fHasProperty - error: "+c)}};var v=e.functions.fPushNewPixels=function(a,b){var c={};a.forEach(function(d){d&&d.src&&(c[d.src]=!0)});b.forEach(function(d){d&&d.src&&!c.hasOwnProperty(d.src)&&a.push(d)})},C=e.functions.getArrayIndexFromString=function(a){a=/\[(\d+)\]/g.exec(a);return null!==a?a[1]:null};e.functions.fIsPopulated=function(a){try{if("undefined"!=typeof a)for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}catch(c){k("fObjectIsPopulated - error: "+c)}};var l=e.functions.extractPixels=
function(a){try{var b=[];if(!1!==a){var c=t(a);if(""!==c)for(b.push(window[c]),a=1;1<=a;){var d=window[c+"_"+a];"undefined"===typeof d?a=0:(a++,b.push(d))}}return b}catch(f){return[]}},p=e.functions.elementsCapture_4XBOE=function(a,b,c){try{var d=[],f=b.map(function(h){return h.eventId});if(-1!=f.indexOf("5c6d61c882b4d94bde885464")&&!dimml.q4XBOE[a].correct657973df69db2d0001739c85){var g=E(a)||{};(c||dimml.q4XBOE[a].correct657973df69db2d0001739c85)&&d.push(g)}-1==f.indexOf("606ebbfb34315e00019cc63c")||
dimml.q4XBOE[a].correct606ecdf534315e00019cc644||(g=F(a)||{},(c||dimml.q4XBOE[a].correct606ecdf534315e00019cc644)&&d.push(g));return d}catch(h){k("elementsCapture error: "+h)}},A=e.functions.fBrowserVersion=function(){try{return navigator.userAgent?navigator.userAgent:"Browser undefined"}catch(a){k("Error whilst trying to retrieve useragent: "+a)}},E=e.functions.element657973df69db2d0001739c85_4XBOE=function(a){var b={elementId:"657973df69db2d0001739c85"};try{if(performance&&"function"==typeof performance.getEntriesByType){var c=
performance.getEntriesByType("resource"),d;for(d in c){var f=c[d].name;if("undefined"!=typeof f&&f.match(/login\.klm\.com/)){dimml.q4XBOE[a].correct657973df69db2d0001739c85=!0;var g=(new dimml.uri(f)).parts;c={};dimml._.extend(c,g.query);dimml.q4XBOE[a].element657973df69db2d0001739c85={url:f,query:c};break}}}else return{};b.consent=!0;b.validation=dimml.q4XBOE[a].correct657973df69db2d0001739c85;b.element=dimml.q4XBOE[a].element657973df69db2d0001739c85;b.diagnosticsId=dimml.q4XBOE[a].diagnosticsId657973df69db2d0001739c85;
return b}catch(h){return k("element657973df69db2d0001739c85_4XBOE error: "+h),b.clientError=h.toString(),b}};e.functions.fSetDataObject=function(a){try{var b={},c=(new dimml.uri(a.src)).parts;a={};dimml._.extend(a,c.query);b.query=a;b.protocol=c.protocol;b.domain=c.host;b.pathname=c.path;return b}catch(d){k("fSetDataObject - error: "+d)}};var G=e.functions.initValidation_4XBOE=function(a,b){try{var c=p(a,b,!0);q({websiteId:"5c35edb682b4d91e416fcc3c",pageview:dimml.q4XBOE[a].pageview,events:b,elements:c,
firstValidation:!0},function(d){dimml.event("dataSubmit_4XBOE",{data:d,ua:JSON.stringify(navigator.userAgent)},"flow")})}catch(d){k("initValidation error: "+d)}};e.functions.fPixelName=function(a){return t.apply(this,arguments)};e.functions.fGetPixels=function(a){return l.apply(this,arguments)};var F=e.functions.element606ecdf534315e00019cc644_4XBOE=function(a){var b={elementId:"606ecdf534315e00019cc644"};try{if(performance&&"function"==typeof performance.getEntriesByType){var c=performance.getEntriesByType("resource"),
d;for(d in c){var f=c[d].name;if("undefined"!=typeof f&&f.match(/\/checkout\/ancillaries/)){dimml.q4XBOE[a].correct606ecdf534315e00019cc644=!0;var g=(new dimml.uri(f)).parts;c={};dimml._.extend(c,g.query);dimml.q4XBOE[a].element606ecdf534315e00019cc644={url:f,query:c};break}}}else return{};b.consent=!0;b.validation=dimml.q4XBOE[a].correct606ecdf534315e00019cc644;b.element=dimml.q4XBOE[a].element606ecdf534315e00019cc644;b.diagnosticsId=dimml.q4XBOE[a].diagnosticsId606ecdf534315e00019cc644;if(dimml.q4XBOE[a].correct606ecdf534315e00019cc644){b.toValidate=
{};var h=b.toValidate;f=window;var H=w("z_application");var I=r(f,"dimml.q4XBOE["+a+"].element606ecdf534315e00019cc644.query"+H,"");h._606ece4734315e00019cc648=I}return b}catch(u){return k("element606ecdf534315e00019cc644_4XBOE error: "+u),b.clientError=u.toString(),b}};e.functions.fGetS=function(){return m.apply(this,arguments)};e.functions.fCheckNested=function(a){try{return!!r(window,a,null)}catch(b){k("fCheckNested - error: "+b)}};var t=e.functions.getPixelname=function(a){try{var b=["visitorNamespace",
"account"].filter(function(g){return"undefined"!==typeof a[g]}).map(function(g){return a[g]}).map(function(g){return g.split(",").join("_")}),c=[].concat.apply([],b),d=z(c,["s_i_","s_i_0_","s_i_1_","s_i_2_"]),f=[].concat.apply([],d).filter(function(g){return"undefined"!==typeof window[g]});return 0<f.length?f[0]:null}catch(g){console.log("getPixelname - error: "+g)}};(function(){dimml.safe(function(){"undefined"===typeof e.dataCallback&&(e.dataCallback=[]);"undefined"===typeof e.data&&(e.data={});
"undefined"===typeof e.scriptName&&(e.scriptName="flow");dimml.ready(function(){setTimeout(function(){var a=dimml.extraData[e.hash];a&&dimml._.extend(e.data,a.pop());dimml._.each(e.dataCallback,function(b){b()});e.scriptName&&dimml.send(e.data,e.scriptName+"/"+dimml.rnd4(),null,e.hash,e.base,e.method)},0)})})})();(function(){dimml.safe(function(){e.scriptName=null;try{var a=[];/.+/.test(window.location.pathname)&&RegExp("(?!login).*.airfrance..+").test(window.location.href)&&/\/checkout\/ancillaries/.test(window.location.pathname)?
a=[{eventId:"5c3ef29b82b4d91e416fcc58",rootEvent:!0},{eventId:"5c6d5eb382b4d94bde885374",rootEvent:!1},{eventId:"606ebbfb34315e00019cc63c",rootEvent:!1}]:/.+/.test(window.location.pathname)&&/login\.airfrance\.com/.test(window.location.href)?a=[{eventId:"5c3ef29b82b4d91e416fcc58",rootEvent:!0},{eventId:"5c6d5cf682b4d94bde88529c",rootEvent:!1}]:/.+/.test(window.location.pathname)&&RegExp("(?!login).*.airfrance..+").test(window.location.href)?a=[{eventId:"5c3ef29b82b4d91e416fcc58",rootEvent:!0},{eventId:"5c6d5eb382b4d94bde885374",
rootEvent:!1}]:/.+/.test(window.location.pathname)&&/login\.klm\.com/.test(window.location.href)?a=[{eventId:"5c3ef29b82b4d91e416fcc58",rootEvent:!0},{eventId:"5c6d61c882b4d94bde885464",rootEvent:!1}]:/.+/.test(window.location.pathname)&&RegExp("(?!login).*.klm..+").test(window.location.href)?a=[{eventId:"5c3ef29b82b4d91e416fcc58",rootEvent:!0},{eventId:"5d67cdef82b4d92e21d46614",rootEvent:!1}]:/.+/.test(window.location.pathname)&&(a=[{eventId:"5c3ef29b82b4d91e416fcc58",rootEvent:!0}]);if(0<a.length){var b=
"undefined"!==typeof dimml.q4XBOE?dimml.q4XBOE.length:0;B(b);G(b,a);x(b,a)}}catch(c){k("Event error: "+c)}})})();(function(){dimml.safe(function(){var a={hash:"09df860bb77bd213284294cc74ee4fa83c626cca",base:"//baltar-360450.dimml.io",method:"GET"};dimml.addEventHash("dataSubmit_4XBOE",a);dimml.addEventHash(e.hash+"/dataSubmit_4XBOE",a)})})()})();